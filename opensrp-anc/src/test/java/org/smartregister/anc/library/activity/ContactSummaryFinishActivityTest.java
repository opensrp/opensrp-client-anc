package org.smartregister.anc.library.activity;

import static org.robolectric.Shadows.shadowOf;

import android.app.Activity;
import android.content.Intent;
import android.view.MenuItem;
import android.widget.ImageView;
import android.widget.TextView;

import com.google.android.material.appbar.AppBarLayout;
import com.google.android.material.appbar.CollapsingToolbarLayout;

import org.junit.After;
import org.junit.Assert;
import org.junit.Before;
import org.junit.Ignore;
import org.junit.Test;
import org.mockito.ArgumentMatchers;
import org.mockito.Mock;
import org.mockito.Mockito;
import org.powermock.reflect.Whitebox;
import org.robolectric.Robolectric;
import org.robolectric.RuntimeEnvironment;
import org.robolectric.android.controller.ActivityController;
import org.robolectric.util.ReflectionHelpers;
import org.smartregister.anc.library.R;
import org.smartregister.anc.library.contract.ProfileContract;
import org.smartregister.anc.library.domain.YamlConfig;
import org.smartregister.anc.library.model.PartialContact;
import org.smartregister.anc.library.repository.PartialContactRepository;
import org.smartregister.anc.library.util.ConstantsUtils;
import org.smartregister.helper.ImageRenderHelper;

import java.util.ArrayList;
import java.util.List;

public class ContactSummaryFinishActivityTest extends BaseActivityUnitTest {

    private ActivityController<ContactSummaryFinishActivity> activityController;
    private ContactSummaryFinishActivity activity;
    @Mock
    private CollapsingToolbarLayout collapsingToolbarLayout;

    @Mock
    private ProfileContract.Presenter presenter;

    @Mock
    private TextView textView;

    @Mock
    private AppBarLayout appBarLayout;

    @Mock
    private PartialContactRepository partialContactRepository;

    @Mock
    private ImageRenderHelper imageRenderHelper;

    @Mock
    private Intent intent;

    @Mock
    private MenuItem saveFinishMenuItem;

    @Before
    @Override
    public void setUp() {
        super.setUp();
        Intent contactSummaryActivityIntent = new Intent(RuntimeEnvironment.application,
                ContactSummaryFinishActivity.class);
        contactSummaryActivityIntent.putExtra(ConstantsUtils.IntentKeyUtils.BASE_ENTITY_ID, DUMMY_BASE_ENTITY_ID);
        contactSummaryActivityIntent.putExtra(ConstantsUtils.IntentKeyUtils.CONTACT_NO, DUMMY_CONTACT_NO);
        activityController = Robolectric.buildActivity(ContactSummaryFinishActivity.class,
                contactSummaryActivityIntent);
        activity = activityController.create().resume().get();
    }

    @Override
    protected Activity getActivity() {
        return activity;
    }

    @Override
    protected ActivityController getActivityController() {
        return activityController;
    }

    @Test
    public void testActivityIsNotNull() {
        Assert.assertNotNull(activity);
    }

    @Test
    public void testActivityStartedWithIntent() {
        Intent passedIntent = activity.getIntent();
        Assert.assertNotNull(passedIntent);

    }

    @Test
    public void testNameViewIsInitialized() {

        TextView nameView = Whitebox.getInternalState(activity, "nameView");
        Assert.assertNotNull(nameView);
    }

    @Test
    public void testAgeViewIsInitialized() {

        TextView ageView = Whitebox.getInternalState(activity, "ageView");
        Assert.assertNotNull(ageView);
    }

    @Test
    public void testGestationAgeViewIsInitialized() {

        TextView gestationAgeView = Whitebox.getInternalState(activity, "gestationAgeView");
        Assert.assertNotNull(gestationAgeView);
    }

    @Test
    public void testAncViewIsInitialized() {

        TextView ancIdView = Whitebox.getInternalState(activity, "ancIdView");
        Assert.assertNotNull(ancIdView);
    }

    @Test
    public void testOnDestroyShouldInvokeOnDestroyMethodOfPresenter() {

        ContactSummaryFinishActivity spyActivity = Mockito.spy(activity);

        Whitebox.setInternalState(spyActivity, "mProfilePresenter", presenter);

        spyActivity.onDestroy();

        Mockito.verify(presenter).onDestroy(ArgumentMatchers.anyBoolean());
    }

    @Test
    public void testSetProfileNameShouldSetTextViewWithCorrectContent() {

        ContactSummaryFinishActivity spyActivity = Mockito.spy(activity);

        Whitebox.setInternalState(spyActivity, "nameView", textView);

        spyActivity.setProfileName(TEST_STRING);

        Mockito.verify(textView).setText(TEST_STRING);
    }

    @Test
    public void testSetProfileAgeShouldSetAgeViewWithCorrectContent() {

        ContactSummaryFinishActivity spyActivity = Mockito.spy(activity);

        Whitebox.setInternalState(spyActivity, "ageView", textView);

        spyActivity.setProfileAge(TEST_STRING);

        Mockito.verify(textView).setText("AGE " + TEST_STRING);
    }

    @Test
    public void testSetProfileGestatonAgeShouldSetGestationAgeViewWithCorrectContent() {

        ContactSummaryFinishActivity spyActivity = Mockito.spy(activity);

        Whitebox.setInternalState(spyActivity, "gestationAgeView", textView);

        spyActivity.setProfileGestationAge(TEST_STRING);

        Mockito.verify(textView).setText("GA: " + TEST_STRING + " WEEKS");

        spyActivity.setProfileGestationAge(null);

        Mockito.verify(textView).setText("GA");
    }

    @Test
    public void testSetProfileIDShouldSetAncIdViewWithCorrectContent() {

        ContactSummaryFinishActivity spyActivity = Mockito.spy(activity);

        Whitebox.setInternalState(spyActivity, "ancIdView", textView);

        spyActivity.setProfileID(TEST_STRING);

        Mockito.verify(textView).setText("ID: " + TEST_STRING);
    }

    @Test
    public void testOnOffsetChangedShouldSetCorrectValuesForCollapsingBar() {


        ContactSummaryFinishActivity spyActivity = Mockito.spy(activity);

        Mockito.doReturn(0).when(appBarLayout).getTotalScrollRange();

        Whitebox.setInternalState(spyActivity, "collapsingToolbarLayout", collapsingToolbarLayout);


        spyActivity.onOffsetChanged(appBarLayout, 0);

        Mockito.verify(appBarLayout).getTotalScrollRange();


//When app bar collapsed
        Whitebox.setInternalState(spyActivity, "womanName", TEST_STRING);

        spyActivity.onOffsetChanged(appBarLayout, 0);

        Mockito.verify(collapsingToolbarLayout).setTitle(TEST_STRING);


//When app bar maximized
        Whitebox.setInternalState(spyActivity, "appBarTitleIsShown", true);

        spyActivity.onOffsetChanged(appBarLayout, 10);

        Mockito.verify(collapsingToolbarLayout).setTitle(null);

    }

    @Test
    public void testSaveAndFinishButtonClickedOpensContactSummarySendPage() {

        Mockito.doReturn(R.id.save_finish_menu_item).when(saveFinishMenuItem).getItemId();
        activity.onOptionsItemSelected(saveFinishMenuItem);

        Intent expectedIntent = new Intent(activity, ContactSummarySendActivity.class);
        Intent actual = shadowOf(RuntimeEnvironment.application).getNextStartedActivity();
        Assert.assertEquals(expectedIntent.getComponent(), actual.getComponent());
    }

    @Test
    @Ignore
    public void testBackButtonClickedOpensMainContactPage() {
        activity.onBackPressed();
        Intent expectedIntent = new Intent(activity, MainContactActivity.class);
        Intent actual = shadowOf(RuntimeEnvironment.application).getNextStartedActivity();
        Assert.assertEquals(expectedIntent.getComponent(), actual.getComponent());
    }

    @Test
    public void testProcessShouldPopulateContactSummaryYamlConfigListCorrectly() {
        ContactSummaryFinishActivity spyActivity = Mockito.spy(activity);

        Mockito.doNothing().when(spyActivity).registerEventBus();
        Mockito.doReturn(partialContactRepository).when(spyActivity).getPartialContactRepository();


        List<PartialContact> partialContactsList = new ArrayList<>();

        PartialContact partialContact = new PartialContact();

        partialContact.setContactNo(DUMMY_CONTACT_NO);
        partialContact.setBaseEntityId(DUMMY_BASE_ENTITY_ID);
        partialContact.setFormJson("{\"count\":\"3\",\"encounter_type\":\"Profile\",\"entity_id\":\"\",\"relational_id\":\"\",\"metadata\":{\"start\":{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"concept\",\"openmrs_data_type\":\"start\",\"openmrs_entity_id\":\"163137AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\"value\":\"2018-12-13 02:46:56\"},\"end\":{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"concept\",\"openmrs_data_type\":\"end\",\"openmrs_entity_id\":\"163138AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\"},\"today\":{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"encounter\",\"openmrs_entity_id\":\"encounter_date\"},\"deviceid\":{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"concept\",\"openmrs_data_type\":\"deviceid\",\"openmrs_entity_id\":\"163149AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\"value\":\"358240051111110\"},\"subscriberid\":{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"concept\",\"openmrs_data_type\":\"subscriberid\",\"openmrs_entity_id\":\"163150AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\"value\":\"310260000000000\"},\"simserial\":{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"concept\",\"openmrs_data_type\":\"simserial\",\"openmrs_entity_id\":\"163151AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\"value\":\"89014103211118510720\"},\"phonenumber\":{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"concept\",\"openmrs_data_type\":\"phonenumber\",\"openmrs_entity_id\":\"163152AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\"value\":\"+15555215554\"},\"look_up\":{\"entity_id\":\"\",\"value\":\"\"}},\"step1\":{\"title\":\"Demographic Info\",\"next\":\"step2\",\"fields\":[{\"key\":\"educ_level\",\"openmrs_entity_parent\":\"Highest Education Level\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"native_radio\",\"label\":\"Highest level of school\",\"label_text_style\":\"bold\",\"options\":[{\"key\":\"none\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"1107\",\"text\":\"None\"},{\"key\":\"dont_know\",\"text\":\"Don't Know\",\"openmrs_entity_parent\":\"Highest Education Level\",\"openmrs_entity\":\"Unknown\",\"openmrs_entity_id\":\"1067\"},{\"key\":\"primary\",\"text\":\"Primary\",\"openmrs_entity_parent\":\"Highest Education Level\",\"openmrs_entity\":\"Primary School Education\",\"openmrs_entity_id\":\"1713\"},{\"key\":\"secondary\",\"text\":\"Secondary\",\"openmrs_entity_parent\":\"Highest Education Level\",\"openmrs_entity\":\"Secondary School Education\",\"openmrs_entity_id\":\"1714\"},{\"key\":\"higher\",\"text\":\"Higher\",\"openmrs_entity_parent\":\"Highest Education Level\",\"openmrs_entity\":\"Tertiary education complete\",\"openmrs_entity_id\":\"160292\"}],\"v_required\":{\"value\":true,\"err\":\"Please specify your education level\"},\"value\":\"none\"},{\"key\":\"marital_status\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"native_radio\",\"label\":\"Marital status\",\"label_text_style\":\"bold\",\"options\":[{\"key\":\"married\",\"text\":\"Married or living together\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"MARRIED OR LIVING WITH PARTNER\",\"openmrs_entity_id\":\"1055\"},{\"key\":\"divorced\",\"text\":\"Divorced \\/ separated\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"Divorced\",\"openmrs_entity_id\":\"1058\"},{\"key\":\"single\",\"text\":\"Never married and never lived together (single)\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"Not married\",\"openmrs_entity_id\":\"5615\"},{\"key\":\"widowed\",\"text\":\"Widowed\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"Widowed\",\"openmrs_entity_id\":\"1059\"}],\"v_required\":{\"value\":true,\"err\":\"Please specify your marital status\"},\"value\":\"divorced\"},{\"key\":\"occupation\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"concept\",\"openmrs_entity_id\":\"161641AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\"openmrs_data_type\":\"select one\",\"type\":\"check_box\",\"label\":\"Occupation\",\"hint\":\"Occupation\",\"label_text_style\":\"bold\",\"options\":[{\"key\":\"student\",\"text\":\"Student\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"Student\",\"openmrs_entity_id\":\"159465\",\"value\":\"true\"},{\"key\":\"unemployed\",\"text\":\"Unemployed\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"Unemployed\",\"openmrs_entity_id\":\"123801\",\"value\":\"false\"},{\"key\":\"formal_employment\",\"text\":\"Formal employment\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"value\":\"false\"},{\"key\":\"informal_employment_sex_worker\",\"text\":\"Informal employment (sex worker)\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"Sex worker\",\"openmrs_entity_id\":\"160579\",\"value\":\"false\"},{\"key\":\"informal_employment_other\",\"text\":\"Informal employment (other)\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"Casual Labour\",\"openmrs_entity_id\":\"159613\",\"value\":\"false\"},{\"key\":\"other\",\"text\":\"Other (specify)\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"value\":\"false\"}],\"v_required\":{\"value\":\"true\",\"err\":\"Please select at least one occupation\"}},{\"key\":\"occupation_other\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"edit_text\",\"hint\":\"Specify *\",\"edit_type\":\"name\",\"relevance\":{\"step1:occupation\":{\"ex-checkbox\":[{\"or\":[\"other\"]}]}},\"v_required\":{\"value\":false,\"err\":\"Please specify your occupation\"},\"v_regex\":{\"value\":\"[A-Za-z\\\\s.-]*\",\"err\":\"Please specify your occupation\"},\"value\":\"\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"HIV Risk factor Exposure\",\"openmrs_entity_id\":\"160581\",\"key\":\"hiv_risk\",\"type\":\"hidden\",\"label_text_style\":\"bold\",\"text\":\"\",\"text_color\":\"#FF0000\",\"v_required\":{\"value\":false}},{\"key\":\"hiv_risk_counseling_toaster\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"Counselling (Human immunodeficiency virus [HIV] counselling)\",\"openmrs_entity_id\":\"2047\",\"type\":\"toaster_notes\",\"text\":\"HIV risk counseling\",\"toaster_info_text\":\"Provide comprehensive HIV prevention options:\\n- STI screening and treatment (syndromic and syphilis)- Condom promotion- Risk reduction counselling\\n- PrEP with emphasis on adherence\\n- Emphasize importance of follow-up ANC contact visits\",\"toaster_info_title\":\"HIV risk counseling\",\"toaster_type\":\"problem\",\"text_color\":\"#CF0800\",\"relevance\":{\"step1:hiv_risk\":{\"type\":\"string\",\"ex\":\"equalTo(., \\\"1\\\")\"}}}]},\"step2\":{\"title\":\"Current Pregnancy\",\"next\":\"step3\",\"fields\":[{\"key\":\"lmp_known\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"native_radio\",\"label\":\"LMP known?\",\"label_info_text\":\"LMP = first day of Last Menstrual Period. If the exact date is unknown, but the period of the month is known, use day 5 for beginning of the month, day 15 for middle of the month and day 25 for end of the month. If completely unknown, check unknown and calculate GA from ultrasound (or SFH or abdominal palpation as a last resort).\",\"label_info_title\":\"LMP known?\",\"label_text_style\":\"bold\",\"options\":[{\"key\":\"yes\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"Yes\",\"openmrs_entity_id\":\"\",\"text\":\"Yes\",\"specify_info\":\"specify date\"},{\"key\":\"no\",\"text\":\"No\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"}],\"v_required\":{\"value\":true},\"value\":\"yes\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"HIV Risk factor Exposure\",\"openmrs_entity_id\":\"160581\",\"key\":\"lmp_edd\",\"type\":\"hidden\",\"label_text_style\":\"bold\",\"text\":\"\",\"text_color\":\"#FF0000\",\"v_required\":{\"value\":false}},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"HIV Risk factor Exposure\",\"openmrs_entity_id\":\"160581\",\"key\":\"lmp_gest_age\",\"type\":\"hidden\",\"label_text_style\":\"bold\",\"text\":\"\",\"text_color\":\"#FF0000\",\"v_required\":{\"value\":false}},{\"key\":\"ultrasound_done\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"native_radio\",\"label\":\"Ultrasound done?\",\"label_info_text\":\"An ultrasound is recommended for all women before 24 weeks gestation or even after if deemed necessary (e.g. to identify the number of fetuses, fetal presentation, or placenta location).\",\"label_info_title\":\"Ultrasound done?\",\"label_text_style\":\"bold\",\"options\":[{\"key\":\"yes\",\"text\":\"Yes\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"specify_info\":\"ultrasound date\"},{\"key\":\"no\",\"text\":\"No\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"}],\"v_required\":{\"value\":true},\"value\":\"yes\"},{\"key\":\"ultrasound_toaster\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"person_attribute\",\"openmrs_entity_id\":\"toaster_notes\",\"type\":\"toaster_notes\",\"text\":\"Ultrasound recommended\",\"text_color\":\"#1199F9\",\"toaster_info_text\":\"An ultrasound is recommended for all women before 24 weeks gestation or even after if deemed necessary (e.g. to identify the number of fetuses, fetal presentation, or placenta location).\",\"toaster_info_title\":\"Ultrasound recommended\",\"toaster_type\":\"info\",\"relevance\":{\"step2:ultrasound_done\":{\"type\":\"string\",\"ex\":\"equalTo(., \\\"no\\\")\"}}},{\"key\":\"facility_in_us_toaster\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"person_attribute\",\"openmrs_entity_id\":\"toaster_notes\",\"type\":\"toaster_notes\",\"text\":\"Refer for ultrasound in facility with U\\/S equipment\",\"text_color\":\"#1199F9\",\"toaster_info_text\":\"An ultrasound is recommended for all women before 24 weeks gestation or even after if deemed necessary (e.g. to identify the number of fetuses, fetal presentation, or placenta location).\",\"toaster_info_title\":\"Refer for ultrasound in facility with U\\/S equipment\",\"toaster_type\":\"info\",\"relevance\":{\"step2:ultrasound_done\":{\"type\":\"string\",\"ex\":\"equalTo(., \\\"no\\\")\"}}},{\"key\":\"spacer\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"spacer\",\"type\":\"spacer\",\"spacer_height\":\"20px\"},{\"key\":\"ultrasound_gest_age_wks\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"person\",\"openmrs_entity_id\":\"ultrasound_gest_age_wks\",\"type\":\"edit_text\",\"hint\":\"GA from ultrasound - weeks *\",\"relevance\":{\"step2:ultrasound_done\":{\"type\":\"string\",\"ex\":\"equalTo(., \\\"yes\\\")\"}},\"v_required\":{\"value\":false,\"err\":\"Please give the GA from ultrasound - weeks\"},\"v_numeric_integer\":{\"value\":\"true\",\"err\":\"Enter a Valid GA from ultrasound - weeks value\"},\"v_min\":{\"value\":\"4\",\"err\":\"GA from ultrasound - weeks must be equal or greater than 4\"},\"v_max\":{\"value\":\"43\",\"err\":\"GA from ultrasound - weeks must be equal or less than 43\"},\"value\":\"\"},{\"key\":\"ultrasound_gest_age_days\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"person\",\"openmrs_entity_id\":\"ultrasound_gest_age_days\",\"type\":\"edit_text\",\"hint\":\"GA from ultrasound - days *\",\"relevance\":{\"step2:ultrasound_done\":{\"type\":\"string\",\"ex\":\"equalTo(., \\\"yes\\\")\"}},\"v_required\":{\"value\":false,\"err\":\"Please give the GA from ultrasound - days\"},\"v_numeric_integer\":{\"value\":\"true\",\"err\":\"Enter a Valid GA from ultrasound - days value\"},\"v_min\":{\"value\":\"0\",\"err\":\"GA from ultrasound - weeks must be equal or less than 1\"},\"v_max\":{\"value\":\"6\",\"err\":\"GA from ultrasound - weeks must be equal or greater than 6\"},\"value\":\"\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"ultrasound_edd\",\"type\":\"hidden\",\"label_text_style\":\"bold\",\"text\":\"\",\"text_color\":\"#FF0000\",\"v_required\":{\"value\":false},\"relevance\":{\"step2:ultrasound_done\":{\"type\":\"string\",\"ex\":\"equalTo(., \\\"yes\\\")\"}}},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"ultrasound_gest_age\",\"type\":\"hidden\",\"label_text_style\":\"bold\",\"text\":\"\",\"text_color\":\"#FF0000\",\"v_required\":{\"value\":false},\"relevance\":{\"step2:ultrasound_done\":{\"type\":\"string\",\"ex\":\"equalTo(., \\\"yes\\\")\"}}},{\"key\":\"sfh_gest_age\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"person\",\"openmrs_entity_id\":\"sfh_gest_age\",\"type\":\"edit_text\",\"hint\":\"GA from SFH or abdominal palpation - weeks *\",\"v_required\":{\"value\":false,\"err\":\"Please give the GA from SFH or abdominal palpation - weeks\"},\"v_numeric_integer\":{\"value\":true,\"err\":\"Enter a Valid GA from SFH or abdominal palpation - weeks value\"},\"v_min\":{\"value\":\"4\",\"err\":\"GA from SFH or abdominal palpation - weeks must be equal or less than 4\"},\"v_max\":{\"value\":\"43\",\"err\":\"GA from SFH or abdominal palpation - weeks must be equal or greater than 43\"},\"value\":\"\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"sfh_edd\",\"type\":\"hidden\",\"label_text_style\":\"bold\",\"text\":\"\",\"text_color\":\"#FF0000\",\"v_required\":{\"value\":false}},{\"key\":\"select_gest_age_edd\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"native_radio\",\"label\":\"Select preferred gestational age:\",\"label_info_text\":\"If the difference between GA from LMP and early ultrasound is one week or less, then use GA from LMP.If the difference is more than 7 days, use the early ultrasound GA. If ultrasound was done late, use GA from LMP. Between late ultrasound and SFH or abdominalpalpation, use your best judgment to select GA.\",\"label_text_style\":\"bold\",\"options\":[{\"key\":\"lmp\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"text\":\"Using LMP\"},{\"key\":\"ultrasound\",\"text\":\"Using ultrasound\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"sfh\",\"text\":\"Using SFH or abdominal palpation\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"}],\"value\":\"none\",\"v_required\":{\"value\":true}},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"gest_age\",\"type\":\"hidden\",\"label_text_style\":\"bold\",\"text\":\"\",\"text_color\":\"#FF0000\",\"v_required\":{\"value\":false}},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"edd\",\"type\":\"hidden\",\"label_text_style\":\"bold\",\"text\":\"\",\"text_color\":\"#FF0000\",\"v_required\":{\"value\":false}}]},\"step3\":{\"title\":\"Obstetric History\",\"next\":\"step4\",\"fields\":[{\"key\":\"spacer\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"spacer\",\"type\":\"spacer\",\"spacer_height\":\"10dp\"},{\"key\":\"enabled_label\",\"type\":\"label\",\"label_text_style\":\"bold\",\"text\":\"Number of pregnancies\",\"text_color\":\"#000000\",\"v_required\":{\"value\":true},\"label_info_text\":\"Total number of times the woman has been pregnant (including this pregnancy).\"},{\"key\":\"gravida\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"Gravida\",\"openmrs_entity_id\":\"5624\",\"type\":\"numbers_selector\",\"number_of_selectors\":\"5\",\"start_number\":\"0\",\"max_value\":\"15\",\"text_size\":\"16px\",\"text_color\":\"#000000\",\"selected_text_color\":\"#ffffff\",\"v_required\":{\"value\":true}},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"previous_pregnancies\",\"type\":\"hidden\",\"label_text_style\":\"bold\",\"text\":\"0\",\"text_color\":\"#FF0000\",\"v_required\":{\"value\":false}},{\"key\":\"enabled_label\",\"type\":\"label\",\"label_text_style\":\"bold\",\"text\":\"No. of pregnancies lost\\/ended\",\"text_color\":\"#000000\",\"v_required\":{\"value\":true},\"label_info_text\":\"Total number of miscarriages and abortions.\"},{\"key\":\"miscarriages_abortions\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"Number of abortions\\/miscarriages\",\"openmrs_entity_id\":\"1823\",\"type\":\"numbers_selector\",\"number_of_selectors\":\"5\",\"start_number\":\"0\",\"max_value\":\"15\",\"text_size\":\"16px\",\"text_color\":\"#000000\",\"selected_text_color\":\"#ffffff\",\"v_required\":{\"value\":true}},{\"key\":\"spacer\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"spacer\",\"type\":\"spacer\",\"spacer_height\":\"15dp\"},{\"key\":\"enabled_label\",\"type\":\"label\",\"label_text_style\":\"bold\",\"text\":\"No. of live births\",\"text_color\":\"#000000\",\"v_required\":{\"value\":true},\"label_info_text\":\"Total number of live births.\"},{\"key\":\"live_births\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"Number of live deliveries\",\"openmrs_entity_id\":\"160601 \",\"type\":\"numbers_selector\",\"number_of_selectors\":\"5\",\"start_number\":\"0\",\"max_value\":\"15\",\"text_size\":\"16px\",\"text_color\":\"#000000\",\"selected_text_color\":\"#ffffff\",\"v_required\":{\"value\":true}},{\"key\":\"spacer\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"spacer\",\"type\":\"spacer\",\"spacer_height\":\"15dp\"},{\"key\":\"enabled_label\",\"type\":\"label\",\"label_text_style\":\"bold\",\"text\":\"No. of still births\",\"text_color\":\"#000000\",\"v_required\":{\"value\":true},\"label_info_text\":\"Total number of still births.\"},{\"key\":\"stillbirths\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"Number of prior stillbirths \",\"openmrs_entity_id\":\"160077 \",\"type\":\"numbers_selector\",\"number_of_selectors\":\"5\",\"start_number\":\"0\",\"max_value\":\"15\",\"text_size\":\"16px\",\"text_color\":\"#000000\",\"selected_text_color\":\"#ffffff\",\"v_required\":{\"value\":true}},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"parity\",\"type\":\"hidden\",\"label_text_style\":\"bold\",\"text\":\"0\",\"text_color\":\"#FF0000\",\"v_required\":{\"value\":false}},{\"key\":\"enabled_label\",\"type\":\"label\",\"label_text_style\":\"bold\",\"text\":\"No. of C-sections\",\"text_color\":\"#000000\",\"v_required\":{\"value\":true},\"label_info_text\":\"Total number of C-sections..\"},{\"key\":\"c_sections\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"Number of live deliveries\",\"openmrs_entity_id\":\"160601 \",\"type\":\"numbers_selector\",\"number_of_selectors\":\"5\",\"start_number\":\"0\",\"max_value\":\"15\",\"text_size\":\"16px\",\"text_color\":\"#000000\",\"selected_text_color\":\"#ffffff\",\"v_required\":{\"value\":true}},{\"key\":\"spacer\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"spacer\",\"type\":\"spacer\",\"spacer_height\":\"22dp\"},{\"key\":\"prev_preg_comps\",\"openmrs_entity_parent\":\"PAST PREGNANCY COMPLICATIONS\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"openmrs_data_type\":\"select multiple\",\"type\":\"check_box\",\"label\":\"Any past pregnancy problems?\",\"label_text_style\":\"bold\",\"hint\":\"Any past pregnancy problems?\",\"exclusive\":[\"none\",\"dont_know\"],\"options\":[{\"openmrs_entity_parent\":\"PAST PREGNANCY COMPLICATIONS\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"none\",\"text\":\"None\",\"value\":\"true\"},{\"openmrs_entity_parent\":\"PAST PREGNANCY COMPLICATIONS\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"dont_know\",\"text\":\"Don't know\",\"value\":\"true\"},{\"openmrs_entity_parent\":\"PAST PREGNANCY COMPLICATIONS\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"pre_eclampsia_eclampsia\",\"text\":\"Pre-eclampsia or eclampsia\",\"value\":\"true\"},{\"openmrs_entity_parent\":\"PAST PREGNANCY COMPLICATIONS\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"convulsions\",\"text\":\"Convulsions\"},{\"openmrs_entity_parent\":\"PAST PREGNANCY COMPLICATIONS\",\"openmrs_entity\":\"Gestational diabetes\",\"openmrs_entity_id\":\"1449\",\"key\":\"gestational_diabetes\",\"text\":\"Gestational Diabetes\"},{\"openmrs_entity_parent\":\"PAST PREGNANCY COMPLICATIONS\",\"openmrs_entity\":\" tobacco user\",\"openmrs_entity_id\":\"159084\",\"key\":\"tobacco_use\",\"text\":\"Tobacco use\"},{\"openmrs_entity_parent\":\"PAST PREGNANCY COMPLICATIONS\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"illicit_substance\",\"text\":\"Alcohol or illicit substance use\"},{\"openmrs_entity_parent\":\"PAST PREGNANCY COMPLICATIONS\",\"openmrs_entity\":\"Postpartum Hemorrhage\",\"openmrs_entity_id\":\"230\",\"key\":\"heavy_bleeding\",\"text\":\"Heavy bleeding (during or after delivery)\"},{\"openmrs_entity_parent\":\"PAST PREGNANCY COMPLICATIONS\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"baby_died_in_24_hrs\",\"text\":\"Baby died within 24 hours of birth\"},{\"openmrs_entity_parent\":\"PAST PREGNANCY COMPLICATIONS\",\"openmrs_entity\":\"Exceptionally large baby\",\"openmrs_entity_id\":\"140951\",\"key\":\"macrosomia\",\"text\":\"Macrosomia\"},{\"openmrs_entity_parent\":\"PAST PREGNANCY COMPLICATIONS\",\"openmrs_entity\":\"Forceps or Vacuum Extractor Delivery \",\"openmrs_entity_id\":\"118159\",\"key\":\"vacuum_delivery\",\"text\":\"Forceps or vacuum delivery\"},{\"openmrs_entity_parent\":\"PAST PREGNANCY COMPLICATIONS\",\"openmrs_entity\":\"Third Degree Perineal Tear During Delivery with Postnatal Problem\",\"openmrs_entity_id\":\"124857\",\"key\":\"3rd_degree_tear\",\"text\":\"3rd degree tear\"},{\"openmrs_entity_parent\":\"PAST PREGNANCY COMPLICATIONS\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"other\",\"text\":\"Other (specify)\"}],\"v_required\":{\"value\":\"true\",\"err\":\"Please select at least one past pregnancy problems\"}},{\"key\":\"prev_preg_comps_other\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"PAST PREGNANCY COMPLICATIONS\",\"openmrs_entity_id\":\"1430\",\"type\":\"edit_text\",\"hint\":\"Specify Any Past Pregnancy Problems*\",\"relevance\":{\"step3:prev_preg_comps\":{\"ex-checkbox\":[{\"or\":[\"other\"]}]}},\"v_required\":{\"value\":false,\"err\":\"Please specify other past pregnancy problems\"},\"v_regex\":{\"value\":\"[A-Za-z\\\\s.-]*\",\"err\":\"Please specify other past pregnancy problems\"}},{\"key\":\"substances_used\",\"openmrs_entity_parent\":\"PAST PREGNANCY COMPLICATIONS\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"openmrs_data_type\":\"select multiple\",\"type\":\"check_box\",\"label\":\"Specify Alcohol or illicit substance use\",\"label_text_style\":\"bold\",\"hint\":\"Specify Alcohol or illicit substance use\",\"relevance\":{\"step3:prev_preg_comps\":{\"ex-checkbox\":[{\"or\":[\"illicit_substance\"]}]}},\"options\":[{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"alcohol\",\"text\":\"Alcohol\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"marijuana\",\"text\":\"Marijuana\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"cocaine\",\"text\":\"Cocaine\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\" crack cocaine use\",\"openmrs_entity_id\":\"155793\",\"key\":\"crack\",\"text\":\"Crack\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\" crack cocaine use\",\"openmrs_entity_id\":\"155793\",\"key\":\"injectable_drugs\",\"text\":\"Injectable drugs\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"other\",\"text\":\"Other (specify)\"}],\"v_required\":{\"value\":\"true\",\"err\":\"Please select at least one Alcohol or illicit substance use\"}},{\"key\":\"substances_used_other\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"1430\",\"type\":\"edit_text\",\"hint\":\"Specify Other Substances Abused *\",\"relevance\":{\"step3:substances_used\":{\"ex-checkbox\":[{\"or\":[\"other\"]}]}},\"v_required\":{\"value\":false,\"err\":\"Please specify other substances abused\"},\"v_regex\":{\"value\":\"[A-Za-z\\\\s.-]*\",\"err\":\"Please specify other specify other substances abused\"}},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"preeclampsia_risk\",\"type\":\"hidden\",\"label_text_style\":\"bold\",\"text\":\"0\",\"text_color\":\"#FF0000\",\"v_required\":{\"value\":false}},{\"key\":\"pre_eclampsia_toaster\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Pre-eclampsia risk counseling\",\"text_color\":\"#000000\",\"toaster_info_text\":\"The use of aspirin after 12 weeks gestation is recommended as well as calcium if low dietary intake area. Please also provide counseling.\",\"toaster_info_title\":\"Pre-eclampsia risk counseling\",\"toaster_type\":\"warning\",\"relevance\":{\"step3:preeclampsia_risk\":{\"type\":\"numeric\",\"ex\":\"equalTo(., \\\"1\\\")\"}}},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"gdm_risk\",\"type\":\"hidden\",\"label_text_style\":\"bold\",\"text\":\"0\",\"text_color\":\"#FF0000\",\"v_required\":{\"value\":false}},{\"key\":\"gestational_diabetes_toaster\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Gestational diabetes mellitus (GDM) risk counseling\",\"text_color\":\"#000000\",\"toaster_info_text\":\"Please provide appropriate counseling for GDM risk mitigation, including: \\n- Reasserting dietary interventions \\n- Reasserting physical activity during pregnancy\",\"toaster_info_title\":\"Gestational diabetes mellitus (GDM) risk counseling\",\"toaster_type\":\"warning\",\"relevance\":{\"step3:gdm_risk\":{\"type\":\"numeric\",\"ex\":\"equalTo(., \\\"1\\\")\"}}}]},\"step4\":{\"title\":\"Medical History\",\"next\":\"step5\",\"fields\":[{\"key\":\"allergies\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"openmrs_data_type\":\"select multiple\",\"type\":\"check_box\",\"label\":\"Any allergies?\",\"label_text_style\":\"bold\",\"hint\":\"Any allergies?\",\"exclusive\":[\"none\",\"dont_know\"],\"options\":[{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"none\",\"text\":\"None\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"dont_know\",\"text\":\"Don't know\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"ALBENDAZOLE\",\"openmrs_entity_id\":\"70439\",\"key\":\"albendazole\",\"text\":\"Albendazole\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"aluminium_hydroxide\",\"text\":\"Aluminium hydroxide\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"CALCIUM\",\"openmrs_entity_id\":\"72650\",\"key\":\"calcium\",\"text\":\"Calcium\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"chamomile\",\"text\":\"Chamomile\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"FOLIC ACID\",\"openmrs_entity_id\":\"76613\",\"key\":\"folic_acid\",\"text\":\"Folic acid\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"GINGER EXTRACT\",\"openmrs_entity_id\":\"77001\",\"key\":\"ginger\",\"text\":\"Ginger\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"IRON\",\"openmrs_entity_id\":\"78218\",\"key\":\"iron\",\"text\":\"Iron\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"MAGNESIUM CARBONATE\",\"openmrs_entity_id\":\"79229\",\"key\":\"magnesium_carbonate\",\"text\":\"Magnesium carbonate\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"INTERMITTENT PREVENTIVE TREATMENT IN PREGNANCY WITH SULPHADOXINE-PYRIMETHAMINE\",\"openmrs_entity_id\":\"1591\",\"key\":\"malaria_medication\",\"text\":\"Malaria medication (sulfadoxine-pyrimethamine)\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"MEBENDAZOLE\",\"openmrs_entity_id\":\"79413\",\"key\":\"mebendazole\",\"text\":\"Mebendazole\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"PENICILLIN\",\"openmrs_entity_id\":\"81724\",\"key\":\"penicillin\",\"text\":\"Penicillin\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"TENOFOVIR DISOPROXIL FUMARATE\",\"openmrs_entity_id\":\"84797\",\"key\":\"prep_tenofovir_disoproxil_fumarate\",\"text\":\"PrEP tenofovir disoproxil fumarate (TDF)\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"other\",\"text\":\"Other (specify)\"}],\"v_required\":{\"value\":false,\"err\":\"Please select at least one allergy\"}},{\"key\":\"allergies_other\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"edit_text\",\"hint\":\"Specify Allergies *\",\"edit_type\":\"edit_text\",\"v_required\":{\"value\":false,\"err\":\"Please specify the allergies\"},\"relevance\":{\"step4:allergies\":{\"ex-checkbox\":[{\"or\":[\"other\"]}]}}},{\"key\":\"surgeries\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"Procedure History\",\"openmrs_entity_id\":\"160714\",\"openmrs_data_type\":\"select multiple\",\"type\":\"check_box\",\"label\":\"Any surgeries??\",\"label_text_style\":\"bold\",\"hint\":\"Any surgeries??\",\"exclusive\":[\"none\",\"dont_know\"],\"options\":[{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"none\",\"text\":\"None\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"dont_know\",\"text\":\"Don't know\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"Dilation and curettage\",\"openmrs_entity_id\":\"1637\",\"key\":\"dilation_and_curettage\",\"text\":\"Dilation and curettage\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"Uterine myomectomy\",\"openmrs_entity_id\":\"161829\",\"key\":\"removal_of_fibroid\",\"text\":\"Removal of fibroids (myomectomy)\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"removal_of_ovarian_cysts\",\"text\":\"Removal of ovarian cysts\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"Oophorectomy\",\"openmrs_entity_id\":\"161844\",\"key\":\"removal_of_ovary\",\"text\":\"Removal of ovary (oophorectomy)\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"fallopian tube excision\",\"openmrs_entity_id\":\"161835\",\"key\":\"removal_of_the_tube\",\"text\":\"Removal of the tube (salpingectomy)\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"cervical_cone\",\"text\":\"Partial removal of the cervix (cervical cone)\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"other_gynecological_procedures\",\"text\":\"Other gynecological procedures (specify)\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"other\",\"text\":\"Other surgeries (specify)\"}],\"v_required\":{\"value\":false,\"err\":\"Please select at least one surgeries\"}},{\"key\":\"surgeries_other_gyn_proced\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"edit_text\",\"hint\":\"Specify Other gynecological procedures *\",\"edit_type\":\"edit_text\",\"relevance\":{\"step4:surgeries\":{\"ex-checkbox\":[{\"or\":[\"other_gynecological_procedures\"]}]}},\"v_required\":{\"value\":false,\"err\":\"Please specify the other gynecological procedures\"}},{\"key\":\"surgeries_other\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"edit_text\",\"hint\":\"Specify Other surgeries *\",\"edit_type\":\"edit_text\",\"v_required\":{\"value\":false,\"err\":\"Please specify the Other surgeries\"},\"relevance\":{\"step4:surgeries\":{\"ex-checkbox\":[{\"or\":[\"other\"]}]}}},{\"key\":\"health_conditions\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"PAST MEDICAL HISTORY\",\"openmrs_entity_id\":\"1633\",\"openmrs_data_type\":\"select multiple\",\"type\":\"check_box\",\"label\":\"Any chronic or past health conditions?\",\"label_text_style\":\"bold\",\"hint\":\"Any chronic or past health conditions?\",\"exclusive\":[\"none\",\"dont_know\"],\"options\":[{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"none\",\"text\":\"None\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"dont_know\",\"text\":\"Don't know\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"Autoimmune Disease\",\"openmrs_entity_id\":\"148117\",\"key\":\"autoimmune_disease\",\"text\":\"Autoimmune disease\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"blood_disorder\",\"text\":\"Blood disorder (e.g. sickle cell anemia, thalassemia)\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"cancer\",\"text\":\"Cancer\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"diabetes\",\"text\":\"Diabetes\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"Epilepsy\",\"openmrs_entity_id\":\"155\",\"key\":\"epilepsy\",\"text\":\"Epilepsy\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"HIV Positive\",\"openmrs_entity_id\":\"138571\",\"key\":\"hiv\",\"text\":\"HIV\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"Hypertension\",\"openmrs_entity_id\":\"117399\",\"key\":\"Hypertension\",\"text\":\"Hypertension\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"RENAL DISEASE\",\"openmrs_entity_id\":\"6033\",\"key\":\"kidney_disease\",\"text\":\"Kidney disease\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"other\",\"text\":\"Other (specify)\"}],\"v_required\":{\"value\":false,\"err\":\"Please select at least one chronic or past health conditions\"}},{\"key\":\"health_conditions_other\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"edit_text\",\"hint\":\"Specify other chronic or past health conditions *\",\"edit_type\":\"edit_text\",\"v_required\":{\"value\":false,\"err\":\"Please specify the chronic or past health conditions\"},\"relevance\":{\"step4:health_conditions\":{\"ex-checkbox\":[{\"or\":[\"other\"]}]}}},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"preeclampsia_risk\",\"type\":\"hidden\",\"label_text_style\":\"bold\",\"text\":\"0\",\"text_color\":\"#FF0000\",\"v_required\":{\"value\":false}},{\"key\":\"pre_eclampsia_two_toaster\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Pre-eclampsia risk counseling\",\"text_color\":\"#000000\",\"toaster_info_text\":\"The use of aspirin after 12 weeks gestation is recommended as well as calcium if low dietary intake area. Please also provide counseling.\",\"toaster_info_title\":\"Pre-eclampsia risk counseling\",\"toaster_type\":\"warning\",\"relevance\":{\"step1:preeclampsia_risk\":{\"type\":\"string\",\"ex\":\"equalTo(., \\\"1\\\")\"}}},{\"key\":\"hiv_diagnosis_date\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"Date of HIV diagnosis \",\"openmrs_entity_id\":\"160554\",\"type\":\"date_picker\",\"hint\":\"HIV diagnosis date *\",\"expanded\":false,\"duration\":{\"label\":\"HIV Diagnosis Date\"},\"relevance\":{\"step4:health_conditions\":{\"ex-checkbox\":[{\"or\":[\"hiv\"]}]}},\"max_date\":\"today\",\"v_required\":{\"value\":false,\"err\":\"Please enter the HIV diagnosis date\"}},{\"key\":\"hiv_diagnosis_date_unknown\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"openmrs_data_type\":\"select one\",\"type\":\"check_box\",\"label\":\"Unknown HIV Date\",\"label_text_style\":\"bold\",\"hint\":\"Unknown HIV Date\",\"options\":[{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"Unknown HIV Date\",\"text\":\"Unknown HIV Date\",\"value\":false}],\"v_required\":{\"value\":false,\"err\":\"Please select the unknown HIV Date\"},\"relevance\":{\"step4:health_conditions\":{\"ex-checkbox\":[{\"or\":[\"hiv\"]}]}}},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"HIV Positive\",\"openmrs_entity_id\":\"138571\",\"key\":\"hiv_positive\",\"type\":\"hidden\",\"label_text_style\":\"bold\",\"text\":\"0\",\"text_color\":\"#FF0000\",\"v_required\":{\"value\":false}}]},\"step5\":{\"title\":\"Immunisation Status\",\"next\":\"step6\",\"fields\":[{\"key\":\"tt_immun_status\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"Number of doses of tetanus toxoid (TT) received during pregnancy\",\"openmrs_entity_id\":\"160055\",\"type\":\"native_radio\",\"label\":\"TT immunisation status\",\"label_text_style\":\"bold\",\"multi_relevance\":true,\"options\":[{\"key\":\"3_doses\",\"text\":\"3 doses of TTCV in past 5 years\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"1-4_doses\",\"text\":\"1-4 doses of TTCV in the past\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"ttcv_not_received\",\"text\":\"TTCV not received\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"unknown\",\"text\":\"Unknown\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"}],\"value\":\"none\",\"v_required\":{\"value\":true,\"err\":\"Please select TT Immunisation status\"}},{\"key\":\"tt_immunisation_toaster\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"TT immunisation recommended\",\"text_color\":\"#000000\",\"toaster_info_text\":\"Tetanus toxoid vaccination is recommended for all pregnant women who are not fully immunised against TT to prevent neonatal mortality from tetanus..\",\"toaster_info_title\":\"TT immunisation recommended\",\"toaster_type\":\"info\",\"relevance\":{\"step5:tt_immun_status\":{\"ex-checkbox\":[{\"or\":[\"1-4_doses\",\"ttcv_not_received\",\"unknown\"]}]}}},{\"key\":\"fully_immunised_toaster\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Woman is fully immunised against tetanus!\",\"text_color\":\"#000000\",\"toaster_type\":\"positive\",\"relevance\":{\"step5:tt_immun_status\":{\"ex-checkbox\":[{\"or\":[\"3_doses\"]}]}}},{\"key\":\"hepb_immun_status\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"native_radio\",\"label\":\"Hep B immunisation status\",\"label_text_style\":\"bold\",\"multi_relevance\":true,\"options\":[{\"key\":\"3_doses\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"text\":\"3 doses\"},{\"key\":\"incomplete\",\"text\":\"Incomplete\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"not_received\",\"text\":\"Not received\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"unknown\",\"text\":\"Unknown\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"}],\"value\":\"none\",\"v_required\":{\"value\":true,\"err\":\"Please select Hep B immunisation status\"}},{\"key\":\"hep_b_testing_recommended_toaster\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Hep B testing recommended\",\"text_color\":\"#000000\",\"toaster_info_text\":\"Hep B testing is recommended for at risk women who are not already fully immunised against Hep B.\",\"toaster_info_title\":\"Hep B testing recommended\",\"toaster_type\":\"info\",\"relevance\":{\"step5:hepb_immun_status\":{\"ex-checkbox\":[{\"or\":[\"incomplete\",\"not_received\",\"unknown\"]}]}}},{\"key\":\"fully_hep_b_immunised_toaster\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Woman is fully immunised against Hep B!\",\"text_color\":\"#000000\",\"toaster_type\":\"positive\",\"relevance\":{\"step5:hepb_immun_status\":{\"ex-checkbox\":[{\"or\":[\"3_doses\"]}]}}},{\"key\":\"flu_immun_status\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"native_radio\",\"label\":\"Flu immunisation status\",\"label_text_style\":\"bold\",\"multi_relevance\":true,\"options\":[{\"key\":\"seasonal_flu_dose_given\",\"text\":\"Seasonal flu dose given\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"seasonal_flu_dose_missing\",\"text\":\"Seasonal flu dose missing\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"unknown\",\"text\":\"Unknown\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"}],\"value\":\"none\",\"v_required\":{\"value\":true,\"err\":\"Please select Hep B immunisation status\"}},{\"key\":\"flu_immunisation_toaster\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Flu immunisation recommended\",\"text_color\":\"#000000\",\"toaster_info_text\":\"Pregnant women should be vaccinated with trivalent inactivated influenza vaccine at any stage of pregnancy. \",\"toaster_info_title\":\"Flu immunisation recommended\",\"toaster_type\":\"info\",\"relevance\":{\"step5:flu_immun_status\":{\"ex-checkbox\":[{\"or\":[\"seasonal_flu_dose_missing\",\"unknown\"]}]}}},{\"key\":\"immunised_against_flu_toaster\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Woman is immunised against flu!\",\"text_color\":\"#000000\",\"toaster_type\":\"positive\",\"relevance\":{\"step5:flu_immun_status\":{\"ex-checkbox\":[{\"or\":[\"seasonal_flu_dose_given\"]}]}}}]},\"step6\":{\"title\":\"Medications\",\"next\":\"step7\",\"fields\":[{\"key\":\"medications\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"openmrs_data_type\":\"select multiple\",\"type\":\"check_box\",\"label\":\"Current medications\",\"label_text_style\":\"bold\",\"hint\":\"Current medications\",\"exclusive\":[\"none\",\"dont_know\"],\"options\":[{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"none\",\"text\":\"None\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"dont_know\",\"text\":\"Don't know\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"antacids\",\"text\":\"Antacids\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"aspirin\",\"text\":\"Aspirin\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"calcium\",\"text\":\"Calcium\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"doxylamine\",\"text\":\"Doxylamine\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"epilepsy\",\"text\":\"Epilepsy\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"folic_acid\",\"text\":\"Folic acid\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"iron\",\"text\":\"Iron\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"magnesium\",\"text\":\"Magnesium\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"metoclopramide\",\"text\":\"Metoclopramide\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"vitamin_a\",\"text\":\"Vitamin A\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"analgesic\",\"text\":\"Analgesic\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"anti_convulsive\",\"text\":\"Anti-convulsive\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"anti_diabetic\",\"text\":\"Anti-diabetic\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"anti_heartburn\",\"text\":\"Anti-heartburn\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"anthelmintic\",\"text\":\"Anthelmintic\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"anti_hypertensive\",\"text\":\"Anti-hypertensive\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"anti_malarials\",\"text\":\"Anti-malarials\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"antivirals\",\"text\":\"Antivirals\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"antiretrovirals\",\"text\":\"Antiretrovirals (ARVs)\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"antitussive\",\"text\":\"Antitussive\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"asthma\",\"text\":\"Asthma\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"cotrimoxazole\",\"text\":\"Cotrimoxazole\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"other_antibiotics\",\"text\":\"Other antibiotics\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"hematinic\",\"text\":\"Hematinic\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"hemorrhoidal_medication\",\"text\":\"Hemorrhoidal medication\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"multivitamin\",\"text\":\"Multivitamin\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"thyroid_medication\",\"text\":\"Thyroid medication\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"other\",\"text\":\"Other (specify)\"}],\"v_required\":{\"value\":false,\"err\":\"Please select at least one medication\"}},{\"key\":\"medications_other\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"edit_text\",\"hint\":\"Specify Other medications *\",\"edit_type\":\"edit_text\",\"v_required\":{\"value\":false,\"err\":\"Please specify the Other medications\"},\"relevance\":{\"step6:medications\":{\"ex-checkbox\":[{\"or\":[\"other\"]}]}}}]},\"step7\":{\"title\":\"Woman's Behaviour\",\"next\":\"step8\",\"fields\":[{\"key\":\"caffeine_intake\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"openmrs_data_type\":\"select multiple\",\"type\":\"check_box\",\"label\":\"Daily caffeine intake\",\"label_text_style\":\"bold\",\"hint\":\"Daily caffeine intake\",\"label_text_info\":\"Pregnant women should not consume more than 300 mg of caffeine per day. Each of the following represents 300 mg of caffeine.\\n- 2 cups (200ml) of filtered or commercially brewed coffee\\n- 2 small cups (50 ml)of espresso\\n- 3 cups (300ml) of instant coffee\\n- 48 pieces (squares) of chocolate.\",\"exclusive\":[\"none\"],\"options\":[{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"commercially_brewed_coffee\",\"text\":\"More than 2 cups (200ml) of filtered or commercially brewed coffee\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"more_than_2_small_cups_50_ml_of_espresso\",\"text\":\"More than 2 small cups (50 ml) of espresso\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"more_than_3_cups_300ml_of_instant_coffee\",\"text\":\"More than 3 cups (300ml) of instant coffee\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"more_than_48_pieces_squares_of_chocolate\",\"text\":\"More than 48 pieces (squares) of chocolate\"},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"none\",\"text\":\"None of the above\",\"value\":false}],\"v_required\":{\"value\":false,\"err\":\"Please select at least one medication\"}},{\"key\":\"caffeine_reduction_toaster\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Caffeine reduction counseling\",\"text_color\":\"#000000\",\"toaster_info_text\":\"Lowering daily caffeine intake during pregnancy is recommended to reduce the risk of pregnancy loss and low-birth-weight neonates.This includes any product, beverage or food containing caffeine (e.g. brewed coffee, tea, cola-type soft drinks, caffeinated energy drinks, chocolate, caffeine tablets). Caffeine-containing teas (black tea and green tea) and soft drinks (colas and iced tea) usually contain less than 50 mg per 250 mL serving\",\"toaster_info_title\":\"Caffeine reduction counseling\",\"toaster_type\":\"warning\",\"relevance\":{\"step7:caffeine_intake\":{\"ex-checkbox\":[{\"or\":[\"commercially_brewed_coffee\",\"more_than_2_small_cups_50_ml_of_espresso\",\"more_than_3_cups_300ml_of_instant_coffee\",\"more_than_48_pieces_squares_of_chocolate\"]}]}}},{\"key\":\"tobacco_user\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"native_radio\",\"label\":\"Uses tobacco products?\",\"label_text_style\":\"bold\",\"multi_relevance\":true,\"options\":[{\"key\":\"yes\",\"text\":\"Yes\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"no\",\"text\":\"No\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"recently_quit\",\"text\":\"Recently quit\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"}],\"v_required\":{\"value\":true,\"err\":\"Please select if you use any tobacco products\"}},{\"key\":\"tobacco_cessation_toaster\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Tobacco cessation counseling\",\"text_color\":\"#000000\",\"toaster_info_text\":\"Healthcare providers should routinely offer advice and psycho-social interventions for tobacco cessation to all pregnant women who are either current tobacco users or recent tobacco quitters.\",\"toaster_info_title\":\"Tobacco cessation counseling\",\"toaster_type\":\"problem\",\"relevance\":{\"step7:tobacco_user\":{\"ex-checkbox\":[{\"or\":[\"yes\",\"recently_quit\"]}]}}},{\"key\":\"shs_exposure\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"native_radio\",\"label\":\"Anyone in the household smokes tobacco products?\",\"label_text_style\":\"bold\",\"options\":[{\"key\":\"yes\",\"text\":\"Yes\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"no\",\"text\":\"No\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"}],\"v_required\":{\"value\":false,\"err\":\"Please select if you use any tobacco products\"}},{\"key\":\"second_hand_smoke_toaster\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Second-hand smoke counseling\",\"text_color\":\"#000000\",\"toaster_info_text\":\"Provide pregnant women, their partners and other household members with advice and information about the risks of second-hand smoke (SHS) exposure from all forms of smoked tobacco, as well as strategies to reduce SHS in the home.\",\"toaster_info_title\":\"Second-hand smoke counseling\",\"toaster_type\":\"warning\",\"relevance\":{\"step7:shs_exposure\":{\"type\":\"string\",\"ex\":\"equalTo(., \\\"yes\\\")\"}}},{\"key\":\"condom_use\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"native_radio\",\"label\":\"Uses condoms during sex?\",\"label_text_style\":\"bold\",\"options\":[{\"key\":\"yes\",\"text\":\"Yes\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"no\",\"text\":\"No\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"}],\"value\":\"none\",\"v_required\":{\"value\":false,\"err\":\"Please select if you use any tobacco products\"}},{\"key\":\"condom_counseling_toaster\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Condom counseling\",\"text_color\":\"#000000\",\"toaster_info_text\":\"Advise to use condoms to prevent Zika, HIV and other STIs. If necessary, re-assure it is ok to continue to have sex during pregnancy.\",\"toaster_info_title\":\"Condom counseling\",\"toaster_type\":\"problem\",\"relevance\":{\"step7:condom_use\":{\"type\":\"string\",\"ex\":\"equalTo(., \\\"no\\\")\"}}},{\"key\":\"alcohol_substance_enquiry\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"native_radio\",\"label\":\"Clinical enquiry for alcohol and other substance use done?\",\"label_text_style\":\"bold\",\"label_text_info\":\"The application of a specific enquiry to assess alcohol or other substance use.\",\"options\":[{\"key\":\"yes\",\"text\":\"Yes\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"no\",\"text\":\"No\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"}],\"v_required\":{\"value\":true,\"err\":\"Please select if you use any tobacco products\"}},{\"key\":\"alcohol_substance_use\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"check_box\",\"label\":\"Uses alcohol and\\/or other substances?\",\"label_text_style\":\"bold\",\"exclusive\":[\"none\"],\"options\":[{\"key\":\"none\",\"text\":\"None\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"alcohol\",\"text\":\"Alcohol\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"marijuana\",\"text\":\"Marijuana\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"cocaine\",\"text\":\"Cocaine\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"crack\",\"text\":\"Crack\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"injectable_drugs\",\"text\":\"Injectable drugs\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"other\",\"text\":\"Other (specify)\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"}],\"v_required\":{\"value\":true,\"err\":\"Please select one\"}},{\"key\":\"other_substance_use\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"edit_text\",\"hint\":\"Specify other substances abused *\",\"edit_type\":\"edit_text\",\"v_required\":{\"value\":false,\"err\":\"Please specify other substances abused\"},\"relevance\":{\"step7:alcohol_substance_use\":{\"ex-checkbox\":[{\"or\":[\"other\"]}]}}},{\"key\":\"substance_use_toaster\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Alcohol \\/ substance use counseling\",\"text_color\":\"#000000\",\"toaster_info_text\":\"Healthcare providers should at the earliest opportunity advise pregnant women dependent on alcohol or drugs to cease their alcohol or drug use and offer, or refer them to, detoxification services under medical supervision, where necessary and applicable.\",\"toaster_info_title\":\"Alcohol \\/ substance use counseling\",\"toaster_type\":\"problem\",\"relevance\":{\"step7:alcohol_substance_use\":{\"ex-checkbox\":[{\"or\":[\"alcohol\",\"marijuana\",\"cocaine\",\"crack\",\"injectable_drugs\",\"other\"]}]}}},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"hiv_risk\",\"type\":\"hidden\",\"text\":\"0\",\"label_text_style\":\"bold\",\"text_color\":\"#FF0000\",\"v_required\":{\"value\":false}},{\"key\":\"hiv_counselling_toaster\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"HIV risk counseling\",\"text_color\":\"#000000\",\"toaster_info_text\":\"Provide comprehensive HIV prevention options:\\n- STI screening and treatment (syndromic and syphilis)\\n- Condom promotion\\n- Risk reduction counselling\\n- PrEP with emphasis on adherence\\n- Emphasize importance of follow-up ANC contact visits\",\"toaster_info_title\":\"HIV risk counseling\",\"toaster_type\":\"problem\",\"relevance\":{\"step7:hiv_risk\":{\"type\":\"numeric\",\"ex\":\"equalTo(., \\\"1\\\")\"}}}]},\"step8\":{\"title\":\"Partner's HIV Status\",\"fields\":[{\"key\":\"partner_hiv_status\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"native_radio\",\"label\":\"Partner HIV status\",\"label_text_style\":\"bold\",\"options\":[{\"key\":\"dont_know\",\"text\":\"Don't Know\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"positive\",\"text\":\"Positive\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"negative\",\"text\":\"Negative\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"}],\"v_required\":{\"value\":false,\"err\":\"Please select one\"}},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"partner_hiv_positive\",\"type\":\"hidden\",\"label_text_style\":\"bold\",\"text\":\"0\",\"text_color\":\"#FF0000\",\"v_required\":{\"value\":false}},{\"key\":\"bring_partners_toaster\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Advise woman to bring partner(s) in for HIV testing.\",\"text_color\":\"#000000\",\"toaster_info_text\":\"Advise woman to find out the status of her partner(s) or to bring them during the next visit to get tested.\",\"toaster_info_title\":\"Advise woman to bring partner(s) in for HIV testing.\",\"toaster_type\":\"info\",\"relevance\":{\"step8:partner_hiv_status\":{\"type\":\"string\",\"ex\":\"equalTo(., \\\"dont_know\\\")\"}}},{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"key\":\"hiv_risk\",\"type\":\"hidden\",\"label_text_style\":\"bold\",\"text\":\"0\",\"text_color\":\"#FF0000\",\"v_required\":{\"value\":false}},{\"key\":\"hiv_risk_counselling_toaster\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"HIV risk counseling\",\"text_color\":\"#000000\",\"toaster_info_text\":\"Provide comprehensive HIV prevention options:\\n- STI screening and treatment (syndromic and syphilis)\\n- Condom promotion\\n- Risk reduction counselling\\n- PrEP with emphasis on adherence\\n- Emphasize importance of follow-up ANC contact visits\",\"toaster_info_title\":\"HIV risk counseling\",\"toaster_type\":\"problem\",\"relevance\":{\"step8:hiv_risk\":{\"type\":\"numeric\",\"ex\":\"equalTo(., \\\"1\\\")\"}}}]}}");
        partialContact.setType("anc_profile");

        partialContactsList.add(partialContact);
        partialContact = new PartialContact();

        partialContact.setContactNo(DUMMY_CONTACT_NO);
        partialContact.setBaseEntityId(DUMMY_BASE_ENTITY_ID);
        partialContact.setFormJson("{\"count\":\"3\",\"encounter_type\":\"Physical Exam\",\"entity_id\":\"\",\"relational_id\":\"\",\"metadata\":{\"start\":{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"concept\",\"openmrs_data_type\":\"start\",\"openmrs_entity_id\":\"163137AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\"value\":\"2018-12-13 02:47:23\"},\"end\":{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"concept\",\"openmrs_data_type\":\"end\",\"openmrs_entity_id\":\"163138AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\"},\"today\":{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"encounter\",\"openmrs_entity_id\":\"encounter_date\"},\"deviceid\":{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"concept\",\"openmrs_data_type\":\"deviceid\",\"openmrs_entity_id\":\"163149AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\"value\":\"358240051111110\"},\"subscriberid\":{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"concept\",\"openmrs_data_type\":\"subscriberid\",\"openmrs_entity_id\":\"163150AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\"value\":\"310260000000000\"},\"simserial\":{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"concept\",\"openmrs_data_type\":\"simserial\",\"openmrs_entity_id\":\"163151AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\"value\":\"89014103211118510720\"},\"phonenumber\":{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"concept\",\"openmrs_data_type\":\"phonenumber\",\"openmrs_entity_id\":\"163152AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\"value\":\"+15555215554\"},\"look_up\":{\"entity_id\":\"\",\"value\":\"\"}},\"step1\":{\"title\":\"Physical Exam\",\"next\":\"step2\",\"fields\":[{\"key\":\"first_name\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"person\",\"openmrs_entity_id\":\"first_name\",\"type\":\"edit_text\",\"hint\":\"First name *\",\"edit_type\":\"name\",\"v_required\":{\"value\":\"true\",\"err\":\"Please enter the first name\"},\"v_regex\":{\"value\":\"[A-Za-z\\\\s.-]*\",\"err\":\"Please enter a valid name\"}},{\"key\":\"last_name\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"person\",\"openmrs_entity_id\":\"last_name\",\"type\":\"edit_text\",\"hint\":\"Last name *\",\"edit_type\":\"name\",\"v_required\":{\"value\":\"true\",\"err\":\"Please enter the last name\"},\"v_regex\":{\"value\":\"[A-Za-z\\\\s.-]*\",\"err\":\"Please enter a valid name\"}}]},\"step2\":{\"title\":\"Physical Exam 2\",\"next\":\"step3\",\"fields\":[{\"key\":\"first_name\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"person\",\"openmrs_entity_id\":\"first_name\",\"type\":\"edit_text\",\"hint\":\"First name *\",\"edit_type\":\"name\",\"v_required\":{\"value\":\"true\",\"err\":\"Please enter the first name\"},\"v_regex\":{\"value\":\"[A-Za-z\\\\s.-]*\",\"err\":\"Please enter a valid name\"}},{\"key\":\"last_name\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"person\",\"openmrs_entity_id\":\"last_name\",\"type\":\"edit_text\",\"hint\":\"Last name *\",\"edit_type\":\"name\",\"v_required\":{\"value\":\"true\",\"err\":\"Please enter the last name\"},\"v_regex\":{\"value\":\"[A-Za-z\\\\s.-]*\",\"err\":\"Please enter a valid name\"}}]},\"step3\":{\"title\":\"Physical Exam 3\",\"fields\":[{\"key\":\"first_name\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"person\",\"openmrs_entity_id\":\"first_name\",\"type\":\"edit_text\",\"hint\":\"First name *\",\"edit_type\":\"name\",\"v_required\":{\"value\":\"true\",\"err\":\"Please enter the first name\"},\"v_regex\":{\"value\":\"[A-Za-z\\\\s.-]*\",\"err\":\"Please enter a valid name\"}},{\"key\":\"last_name\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"person\",\"openmrs_entity_id\":\"last_name\",\"type\":\"edit_text\",\"hint\":\"Last name *\",\"edit_type\":\"name\",\"v_required\":{\"value\":\"true\",\"err\":\"Please enter the last name\"},\"v_regex\":{\"value\":\"[A-Za-z\\\\s.-]*\",\"err\":\"Please enter a valid name\"}}]}}");
        partialContact.setType("anc_physical_exam");

        partialContactsList.add(partialContact);
        partialContact = new PartialContact();

        partialContact.setContactNo(DUMMY_CONTACT_NO);
        partialContact.setBaseEntityId(DUMMY_BASE_ENTITY_ID);
        partialContact.setFormJson("{\"count\":\"4\",\"encounter_type\":\"Symptoms & Follow-up\",\"entity_id\":\"\",\"relational_id\":\"\",\"metadata\":{\"start\":{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"concept\",\"openmrs_data_type\":\"start\",\"openmrs_entity_id\":\"163137AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\"value\":\"2018-12-13 02:47:27\"},\"end\":{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"concept\",\"openmrs_data_type\":\"end\",\"openmrs_entity_id\":\"163138AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\"},\"today\":{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"encounter\",\"openmrs_entity_id\":\"encounter_date\"},\"deviceid\":{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"concept\",\"openmrs_data_type\":\"deviceid\",\"openmrs_entity_id\":\"163149AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\"value\":\"358240051111110\"},\"subscriberid\":{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"concept\",\"openmrs_data_type\":\"subscriberid\",\"openmrs_entity_id\":\"163150AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\"value\":\"310260000000000\"},\"simserial\":{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"concept\",\"openmrs_data_type\":\"simserial\",\"openmrs_entity_id\":\"163151AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\"value\":\"89014103211118510720\"},\"phonenumber\":{\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"concept\",\"openmrs_data_type\":\"phonenumber\",\"openmrs_entity_id\":\"163152AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\"value\":\"+15555215554\"},\"look_up\":{\"entity_id\":\"\",\"value\":\"\"}},\"step1\":{\"title\":\"Medication Follow-up\",\"next\":\"step2\",\"fields\":[{\"key\":\"medications\",\"openmrs_entity_parent\":\"Current drugs used\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"1193\",\"type\":\"check_box\",\"label\":\"Which medications is she still taking?\",\"label_info_text\":\"The woman reported taking these medications in the previous contact. Un-select the medications that she has stopped taking. If still taking, leave them selected.\",\"label_info_title\":\"Medication follow-up\",\"label_text_style\":\"bold\",\"text_color\":\"#000000\",\"exclusive\":[\"dont_know\",\"none\"],\"options\":[{\"key\":\"none\",\"text\":\"None\",\"value\":\"false\",\"openmrs_entity_id\":\"1193\"},{\"key\":\"dont_know\",\"text\":\"Don't know\",\"value\":\"true\",\"openmrs_entity_id\":\"\"},{\"key\":\"antacids\",\"text\":\"Antacids\",\"value\":\"false\",\"openmrs_entity\":\"ANTACID\",\"openmrs_entity_id\":\"944\"},{\"key\":\"aspirin\",\"text\":\"Aspirin\",\"value\":\"false\",\"openmrs_entity\":\"Aspirine\",\"openmrs_entity_id\":\"71617\"},{\"key\":\"calcium\",\"text\":\"Calcium\",\"value\":\"false\",\"openmrs_entity\":\"Calcium\",\"openmrs_entity_id\":\"72650\"},{\"key\":\"doxylamine\",\"text\":\"Doxylamine\",\"value\":\"false\",\"openmrs_entity\":\"DOXYLAMINE\",\"openmrs_entity_id\":\"75229\"},{\"key\":\"folic_acid\",\"text\":\"Folic Acid\",\"value\":\"false\",\"openmrs_entity\":\"FOLIC ACID\",\"openmrs_entity_id\":\"76613\"},{\"key\":\"iron\",\"text\":\"Iron\",\"value\":\"false\",\"openmrs_entity\":\"IRON\",\"openmrs_entity_id\":\"78218\"},{\"key\":\"magnesium\",\"text\":\"Magnesium\",\"value\":\"false\",\"openmrs_entity\":\"MAGNESIUM\",\"openmrs_entity_id\":\"79224\"},{\"key\":\"metoclopramide\",\"text\":\"Metoclopramide\",\"value\":\"false\",\"openmrs_entity\":\"METOCLOPRAMIDE\",\"openmrs_entity_id\":\"79755\"},{\"key\":\"vitamina\",\"text\":\"Vitamin A\",\"value\":\"false\",\"openmrs_entity\":\"VITAMIN A\",\"openmrs_entity_id\":\"86339\"},{\"key\":\"analgesic\",\"text\":\"Analgesic\",\"value\":\"false\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"anti_convulsive\",\"text\":\"Anti-convulsive\",\"value\":\"false\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"anti_diabetic\",\"text\":\"Anti-diabetic\",\"value\":\"false\",\"openmrs_entity\":\"Diabetes medications\",\"openmrs_entity_id\":\"159460\"},{\"key\":\"anti_heartburn\",\"text\":\"Anti-heartburn\",\"value\":\"false\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"anthelmintic\",\"text\":\"Anthelmintic\",\"value\":\"false\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"anti_hypertensive\",\"text\":\"Anti-hypertensive\",\"value\":\"false\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"anti_malaria\",\"text\":\"Anti-malaria\",\"value\":\"false\",\"openmrs_entity\":\"ANTIMALARIA MEDICATIONS\",\"openmrs_entity_id\":\"5839\"},{\"key\":\"antivirals\",\"text\":\"Antivirals\",\"value\":\"false\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"arvs\",\"text\":\"Antiretrovirals (ARVs)\",\"value\":\"false\",\"openmrs_entity\":\"ON ANTIRETROVIRALS\",\"openmrs_entity_id\":\"1462\"},{\"key\":\"antitussive\",\"text\":\"Antitussive\",\"value\":\"false\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"asthma\",\"text\":\"Asthma\",\"value\":\"false\",\"openmrs_entity\":\"Asthma\",\"openmrs_entity_id\":\"121375\"},{\"key\":\"cotrimoxazole\",\"text\":\"Cotrimoxazole\",\"value\":\"false\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"antibiotics\",\"text\":\"Other antibiotics\",\"value\":\"false\",\"openmrs_entity\":\"ANTIBIOTICS\",\"openmrs_entity_id\":\"1195\"},{\"key\":\"hematinic\",\"text\":\"Hematinic\",\"value\":\"false\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"hemorrhoidal\",\"text\":\"Hemorrhoidal medication\",\"value\":\"false\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"multivitamin\",\"text\":\"Multivitamin\",\"value\":\"false\",\"openmrs_entity\":\"MULTIVITAMIN\",\"openmrs_entity_id\":\"461\"},{\"key\":\"thyroid\",\"text\":\"Thyroid medication\",\"value\":\"false\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"other\",\"text\":\"Other (specify)\",\"value\":\"false\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"}],\"v_required\":{\"value\":true,\"err\":\"Please specify the medication(s) that the woman is still taking\"}},{\"key\":\"medications_other\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"edit_text\",\"hint\":\"Specify\",\"v_regex\":{\"value\":\"[A-Za-z\\\\s.-]*\",\"err\":\"Please enter valid content\"},\"relevance\":{\"step1:medications\":{\"ex-checkbox\":[{\"or\":[\"other\"]}]}},\"value\":\"\"},{\"key\":\"calcium_comply\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"native_radio\",\"label\":\"Is she taking her calcium supplements?\",\"label_text_style\":\"bold\",\"text_color\":\"#000000\",\"options\":[{\"key\":\"1\",\"text\":\"Yes\"},{\"key\":\"0\",\"text\":\"No\"}]},{\"key\":\"calcium_effects\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"native_radio\",\"label\":\"Any calcium supplement side effects?\",\"label_text_style\":\"bold\",\"text_color\":\"#000000\",\"options\":[{\"key\":\"1\",\"text\":\"Yes\"},{\"key\":\"0\",\"text\":\"No\"}]},{\"key\":\"ifa_comply\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"native_radio\",\"label\":\"Is she taking her IFA tablets?\",\"label_text_style\":\"bold\",\"text_color\":\"#000000\",\"options\":[{\"key\":\"1\",\"text\":\"Yes\"},{\"key\":\"0\",\"text\":\"No\"}]},{\"key\":\"ifa_effects\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"native_radio\",\"label\":\"Any IFA side effects?\",\"label_text_style\":\"bold\",\"text_color\":\"#000000\",\"options\":[{\"key\":\"1\",\"text\":\"Yes\"},{\"key\":\"0\",\"text\":\"No\"}],\"value\":\"1\"},{\"key\":\"aspirin_comply\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"native_radio\",\"label\":\"Is she taking her aspirin tablets?\",\"label_text_style\":\"bold\",\"text_color\":\"#000000\",\"options\":[{\"key\":\"1\",\"text\":\"Yes\"},{\"key\":\"0\",\"text\":\"No\"}],\"value\":\"1\"},{\"key\":\"vita_comply\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"native_radio\",\"label\":\"Is she taking her Vitamin A supplements?\",\"label_text_style\":\"bold\",\"text_color\":\"#000000\",\"options\":[{\"key\":\"1\",\"text\":\"Yes\"},{\"key\":\"0\",\"text\":\"No\"}],\"value\":\"0\"},{\"key\":\"penicillin_comply\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"native_radio\",\"label\":\"Is she taking her penicillin treatment for syphilis?\",\"label_text_style\":\"bold\",\"text_color\":\"#000000\",\"label_info_text\":\"A maximum of up to 3 weekly doses may be required.\",\"label_info_title\":\"Syphilis Compliance\",\"options\":[{\"key\":\"1\",\"text\":\"Yes\"},{\"key\":\"0\",\"text\":\"No\"}],\"value\":\"1\"}]},\"step2\":{\"title\":\"Previous Behaviour\",\"next\":\"step3\",\"fields\":[{\"key\":\"behavior_persist\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"check_box\",\"label\":\"Which of the following behaviours persist?\",\"label_info_text\":\"These behaviours were reported in the previous contact. Select the ones that are still occurring or select \\\"None\\\".\",\"label_info_title\":\"Previous behaviours\",\"label_text_style\":\"bold\",\"text_color\":\"#000000\",\"exclusive\":[\"none\"],\"options\":[{\"key\":\"none\",\"text\":\"None\",\"value\":\"false\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"high_caffeine\",\"text\":\"High caffeine intake\",\"value\":\"false\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"label_info_text\":\"High caffeine intake means consuming more than 300 mg of caffeine per day. Each of the following represents 300 mg of caffeine:\\n - 2 cups (200ml) of filtered or commercially brewed coffee\\n - 2 small cups (50 ml) of espresso\\n - 3 cups (300ml) of instant coffee\\n - 48 pieces (squares) of chocolate\\n\\nPlease indicate if the woman consumes more than these amounts per day\",\"label_info_title\":\"High caffeine intake\"},{\"key\":\"current_tobacco_use\",\"text\":\"Current tobacco use or recently quit\",\"value\":\"true\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"tobacco_exposure\",\"text\":\"Exposure to second-hand smoke in the home\",\"value\":\"false\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"no_condom_use\",\"text\":\"No condom use during sex\",\"value\":\"false\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"alcohol_substance_use\",\"text\":\"Alcohol or substance use\",\"value\":\"false\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"}],\"v_required\":{\"value\":true,\"err\":\"Previous persisting behaviour is required\"}},{\"key\":\"toaster0\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Caffeine reduction counseling\",\"toaster_info_text\":\"Lowering daily caffeine intake during pregnancy is recommended to reduce the risk of pregnancy loss and low-birth-weight neonates. This includes any product, beverage or food containing caffeine (e.g. brewed coffee, tea, cola-type soft drinks, caffeinated energy drinks, chocolate, caffeine tablets). Caffeine-containing teas (black tea and green tea) and soft drinks (colas and iced tea) usually contain less than 50 mg per 250 mL serving.\",\"toaster_info_title\":\"Caffeine intake folder\",\"text_color\":\"#D56900\",\"toaster_type\":\"warning\",\"relevance\":{\"step2:behavior_persist\":{\"ex-checkbox\":[{\"or\":[\"high_caffeine\"]}]}}},{\"key\":\"toaster1\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"TOBACCO USE COUNSELLING\",\"openmrs_entity_id\":\"1455\",\"type\":\"toaster_notes\",\"text\":\"Tobacco cessation counseling\",\"toaster_info_text\":\"Healthcare providers should routinely offer advice and psycho-social interventions for tobacco cessation to all pregnant women who are either current tobacco users or recent tobacco quitters.\",\"text_color\":\"#E20000\",\"toaster_type\":\"problem\",\"relevance\":{\"step2:behavior_persist\":{\"ex-checkbox\":[{\"or\":[\"current_tobacco_use\"]}]}}},{\"key\":\"toaster2\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Second-hand smoke counseling\",\"toaster_info_text\":\"Provide pregnant women, their partners and other household members with advice and information about the risks of second-hand smoke (SHS) exposure from all forms of smoked tobacco, as well as strategies to reduce SHS in the home.\",\"text_color\":\"#D56900\",\"toaster_type\":\"warning\",\"relevance\":{\"step2:behavior_persist\":{\"ex-checkbox\":[{\"or\":[\"tobacco_exposure\"]}]}}},{\"key\":\"toaster3\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"Counseling regarding condom\",\"openmrs_entity_id\":\"161594\",\"type\":\"toaster_notes\",\"text\":\"Condom counseling\",\"toaster_info_text\":\"Advise to use condoms to prevent Zika, HIV and other STIs. If necessary, re-assure it is ok to continue to have sex during pregnancy.\",\"text_color\":\"#E20000\",\"toaster_type\":\"problem\",\"relevance\":{\"step2:behavior_persist\":{\"ex-checkbox\":[{\"or\":[\"no_condom_use\"]}]}}},{\"key\":\"toaster4\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"ALCOHOL COUNSELING\",\"openmrs_entity_id\":\"1288\",\"type\":\"toaster_notes\",\"text\":\"Alcohol \\/ substance use counseling\",\"toaster_info_text\":\"Healthcare providers should at the earliest opportunity advise pregnant women dependent on alcohol or drugs to cease their alcohol or drug use and offer, or refer them to, detoxification services under medical supervision, where necessary and applicable.\",\"text_color\":\"#E20000\",\"toaster_type\":\"problem\",\"relevance\":{\"step2:behavior_persist\":{\"ex-checkbox\":[{\"or\":[\"alcohol_substance_use\"]}]}}}]},\"step3\":{\"title\":\"Previous Symptoms\",\"next\":\"step4\",\"fields\":[{\"key\":\"phys_symptoms_persist\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"check_box\",\"label\":\"Which of the following physiological symptoms persist?\",\"label_info_text\":\"These symptoms were reported in the previous contact. Select the ones that are still occurring or select \\\"None\\\".\",\"label_info_title\":\"Previous Symptoms\",\"label_text_style\":\"bold\",\"text_color\":\"#000000\",\"exclusive\":[\"none\"],\"options\":[{\"key\":\"none\",\"text\":\"None\",\"value\":false,\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"nausea_vomiting\",\"text\":\"Nausea and vomiting\",\"value\":\"true\",\"openmrs_entity\":\"Nausea and Vomiting\",\"openmrs_entity_id\":\"133473\"},{\"key\":\"heartburn\",\"text\":\"Heartburn\",\"value\":false,\"openmrs_entity\":\"Heartburn\",\"openmrs_entity_id\":\"139059\"},{\"key\":\"leg_cramps\",\"text\":\"Leg cramps\",\"value\":false,\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"constipation\",\"text\":\"Constipation\",\"value\":false,\"openmrs_entity\":\"CONSTIPATION\",\"openmrs_entity_id\":\"996\"},{\"key\":\"back_pelvic_pain\",\"text\":\"Low back and pelvic pain\",\"value\":false,\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"varicose_veins\",\"text\":\"Varicose veins or oedema\",\"value\":false,\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"}],\"v_required\":{\"value\":true,\"err\":\"Previous persisting physiological symptoms is required\"}},{\"key\":\"other_sym_lbpp\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"check_box\",\"label\":\"Any other symptoms related to low back and pelvic pain?\",\"label_text_style\":\"bold\",\"text_color\":\"#000000\",\"exclusive\":[\"none\"],\"options\":[{\"key\":\"none\",\"text\":\"None\",\"value\":false,\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"contractions\",\"text\":\"Contractions\",\"value\":false,\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"dysuria\",\"text\":\"Pain during urination (dysuria)\",\"value\":false,\"openmrs_entity\":\"Dysuria\",\"openmrs_entity_id\":\"118771\"},{\"key\":\"pelvic_pains\",\"text\":\"Extreme pelvic pain, can't walk (symphysis pubis dysfunction)\",\"value\":false,\"openmrs_entity\":\"Pain in pelvis\",\"openmrs_entity_id\":\"131034\"}],\"v_required\":{\"value\":true,\"err\":\"Please specify any other symptoms related to low back pain or select none\"},\"relevance\":{\"step3:phys_symptoms_persist\":{\"ex-checkbox\":[{\"or\":[\"back_pelvic_pain\"]}]}}},{\"key\":\"other_sym_vvo\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"check_box\",\"label\":\"Any other symptoms related to varicose veins or oedema?\",\"label_text_style\":\"bold\",\"text_color\":\"#000000\",\"exclusive\":[\"none\"],\"options\":[{\"key\":\"none\",\"text\":\"None\",\"value\":false,\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"leg_pain\",\"text\":\"Leg pain\",\"value\":false,\"openmrs_entity\":\"Leg Pain\",\"openmrs_entity_id\":\"114395\"},{\"key\":\"leg_redness\",\"text\":\"Leg redness\",\"value\":false,\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"}],\"v_required\":{\"value\":true,\"err\":\"Please specify any other symptoms related varicose vein\\/oedema or select none\"},\"relevance\":{\"step3:phys_symptoms_persist\":{\"ex-checkbox\":[{\"or\":[\"varicose_veins\"]}]}}},{\"key\":\"other_symptoms_persist\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"check_box\",\"label\":\"Which of the following other symptoms persist?\",\"label_text_style\":\"bold\",\"label_info_text\":\"These symptoms were reported in the previous contact. Select the ones that are still occurring or select \\\"None\\\".\",\"label_info_title\":\"Previous Symptoms\",\"text_color\":\"#000000\",\"exclusive\":[\"none\"],\"options\":[{\"key\":\"none\",\"text\":\"None\",\"value\":false,\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"headache\",\"text\":\"Headache\",\"value\":false,\"openmrs_entity\":\"Headache\",\"openmrs_entity_id\":\"139084\"},{\"key\":\"visual_disturbance\",\"text\":\"Visual disturbance\",\"value\":false,\"openmrs_entity\":\"Visual disturbance\",\"openmrs_entity_id\":\"123074\"},{\"key\":\"abnormal_vaginal_discharge\",\"text\":\"Abnormal vaginal discharge\",\"value\":false,\"openmrs_entity\":\"Abnormal vaginal discharge\",\"openmrs_entity_id\":\"123395\"},{\"key\":\"fever\",\"text\":\"Fever\",\"value\":false,\"openmrs_entity\":\"Fever\",\"openmrs_entity_id\":\"140238\"},{\"key\":\"cough\",\"text\":\"Cough or breathing difficulty\",\"value\":false,\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"vaginal_discharge\",\"text\":\"Vaginal discharge\",\"value\":false,\"openmrs_entity\":\"Vaginal discharge\",\"openmrs_entity_id\":\"123396\"},{\"key\":\"easily_tired\",\"text\":\"Gets tired easily\",\"value\":false,\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"breathless\",\"text\":\"Breathless during routine activities\",\"value\":false,\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"}],\"relevance\":{\"step4:other_symptoms\":{\"ex-checkbox\":[{\"or\":[\"abnormal_vaginal_discharge\",\"breathless\",\"cough\",\"fever\",\"easily_tired\",\"headache\",\"visual_disturbance\",\"vaginal_bleeding\"]}]}}},{\"key\":\"toaster5\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Pharmacological treatments for nausea and vomiting counseling\",\"toaster_info_text\":\"Pharmacological treatments for nausea and vomiting, such as doxylamine and metoclopramide, should be reserved for those pregnant women experiencing distressing symptoms that are not relieved by non-pharmacological options, under the supervision of a medical doctor.\",\"text_color\":\"#4855B3\",\"toaster_type\":\"info\",\"relevance\":{\"step3:phys_symptoms_persist\":{\"ex-checkbox\":[{\"or\":[\"nausea_vomiting\"]}]}}},{\"key\":\"toaster6\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Antacid preparations to relieve heartburn counseling\",\"toaster_info_text\":\"Antacid preparations can be offered to women with troublesome symptoms that are not relieved by lifestyle modification. Magnesium carbonate and aluminium hydroxide preparations are probably unlikely to cause harm in recommended dosages.\",\"text_color\":\"#4855B3\",\"toaster_type\":\"info\",\"relevance\":{\"step3:phys_symptoms_persist\":{\"ex-checkbox\":[{\"or\":[\"heartburn\"]}]}}},{\"key\":\"toaster7\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Magnesium and calcium to relieve leg cramps counseling\",\"toaster_info_text\":\"If leg cramps are not relieved with non-pharma measures, then give 300–360 mg magnesium per day in two or three divided doses; give calcium 1 g twice daily for two weeks.\",\"text_color\":\"#4855B3\",\"toaster_type\":\"info\",\"relevance\":{\"step3:phys_symptoms_persist\":{\"ex-checkbox\":[{\"or\":[\"leg_cramps\"]}]}}},{\"key\":\"toaster8\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Wheat bran or other fiber supplements to relieve constipation counseling\",\"toaster_info_text\":\"Wheat bran or other fiber supplements can be used to relieve constipation, if dietary modifications are not enough, and if they are available and appropriate.\",\"text_color\":\"#4855B3\",\"toaster_type\":\"info\",\"relevance\":{\"step3:phys_symptoms_persist\":{\"ex-checkbox\":[{\"or\":[\"constipation\"]}]}}},{\"key\":\"toaster9\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Regular exercise, physiotherapy, support belts and acupuncture to relieve low back and pelvic pain counseling\",\"toaster_info_text\":\"Regular exercise throughout pregnancy is recommended to prevent low back and pelvic pain. There are a number of different treatment options that can be used, such as physiotherapy, support belts and acupuncture, based on a woman’s preferences and available options.\",\"text_color\":\"#4855B3\",\"toaster_type\":\"info\",\"relevance\":{\"step3:other_sym_lbpp\":{\"ex-checkbox\":[{\"or\":[\"none\"]}]}}},{\"key\":\"toaster10\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Please investigate any possible complications or onset of labour, related to low back and pelvic pain\",\"text_color\":\"#D56900\",\"toaster_type\":\"warning\",\"relevance\":{\"step3:other_sym_lbpp\":{\"ex-checkbox\":[{\"or\":[\"contractions\",\"pelvic_pains\"]}]}}},{\"key\":\"toaster11\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Urine test required\",\"toaster_info_text\":\"Woman has dysuria. Please investigate urinary tract infection and treat if positive.\",\"text_color\":\"#D56900\",\"toaster_type\":\"warning\",\"relevance\":{\"step3:other_sym_lbpp\":{\"ex-checkbox\":[{\"or\":[\"dysuria\"]}]}}},{\"key\":\"toaster12\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Non-pharmacological options for varicose veins and oedema counseling\",\"toaster_info_text\":\"Non-pharmacological options, such as compression stockings, leg elevation and water immersion, can be used for the management of varicose veins and oedema in pregnancy, based on a woman’s preferences and available options.\",\"text_color\":\"#4855B3\",\"toaster_type\":\"info\",\"relevance\":{\"step3:other_sym_vvo\":{\"ex-checkbox\":[{\"or\":[\"none\"]}]}}},{\"key\":\"toaster13\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Please investigate any possible complications, including thrombosis, related to varicose veins and oedema\",\"text_color\":\"#D56900\",\"toaster_type\":\"warning\",\"relevance\":{\"step3:other_sym_vvo\":{\"ex-checkbox\":[{\"or\":[\"leg_pain\",\"leg_redness\"]}]}}}]},\"step4\":{\"title\":\"Physiological Symptoms\",\"fields\":[{\"key\":\"phys_symptoms\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"check_box\",\"label\":\"Any physiological symptoms?\",\"label_text_style\":\"bold\",\"text_color\":\"#000000\",\"exclusive\":[\"none\"],\"options\":[{\"key\":\"none\",\"text\":\"None\",\"value\":false,\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"nausea_vomiting\",\"text\":\"Nausea and vomiting\",\"value\":false,\"openmrs_entity\":\"Nausea and Vomiting\",\"openmrs_entity_id\":\"133473\"},{\"key\":\"heartburn\",\"text\":\"Heartburn\",\"value\":false,\"openmrs_entity\":\"Heartburn\",\"openmrs_entity_id\":\"139059\"},{\"key\":\"leg_cramps\",\"text\":\"Leg cramps\",\"value\":false,\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"constipation\",\"text\":\"Constipation\",\"value\":false,\"openmrs_entity\":\"CONSTIPATION\",\"openmrs_entity_id\":\"996\"},{\"key\":\"back_pelvic_pain\",\"text\":\"Low back and pelvic pain\",\"value\":false,\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"varicose_veins\",\"text\":\"Varicose veins or oedema\",\"value\":false,\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"}],\"v_required\":{\"value\":true,\"err\":\"Please specify any other physiological symptoms or select none\"}},{\"key\":\"other_sym_lbpp\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"check_box\",\"label\":\"Any other symptoms related to low back and pelvic pain?\",\"label_text_style\":\"bold\",\"text_color\":\"#000000\",\"exclusive\":[\"none\"],\"options\":[{\"key\":\"none\",\"text\":\"None\",\"value\":false,\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"contractions\",\"text\":\"Contractions\",\"value\":false,\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"dysuria\",\"text\":\"Pain during urination (dysuria)\",\"value\":false,\"openmrs_entity\":\"Dysuria\",\"openmrs_entity_id\":\"118771\"},{\"key\":\"pelvic_pains\",\"text\":\"Extreme pelvic pain, can't walk (symphysis pubis dysfunction)\",\"value\":false,\"openmrs_entity\":\"Pain in pelvis\",\"openmrs_entity_id\":\"131034\"}],\"v_required\":{\"value\":true,\"err\":\"Please specify any other symptoms related low back and pelvic pain or select none\"},\"relevance\":{\"step4:phys_symptoms\":{\"ex-checkbox\":[{\"or\":[\"back_pelvic_pain\"]}]}}},{\"key\":\"other_sym_vvo\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"check_box\",\"label\":\"Any other symptoms related to varicose veins or oedema?\",\"label_text_style\":\"bold\",\"text_color\":\"#000000\",\"exclusive\":[\"none\"],\"options\":[{\"key\":\"none\",\"text\":\"None\",\"value\":false,\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"leg_pain\",\"text\":\"Leg pain\",\"value\":false,\"openmrs_entity\":\"Leg Pain\",\"openmrs_entity_id\":\"114395\"},{\"key\":\"leg_redness\",\"text\":\"Leg redness\",\"value\":false,\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"}],\"v_required\":{\"value\":true,\"err\":\"Please specify any other symptoms related varicose vein\\/oedema or select none\"},\"relevance\":{\"step4:phys_symptoms\":{\"ex-checkbox\":[{\"or\":[\"varicose_veins\"]}]}}},{\"key\":\"toaster14\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Non-pharma measures to relieve nausea and vomiting counseling\",\"toaster_info_text\":\"Ginger, chamomile, vitamin B6 and\\/or acupuncture are recommended for the relief of nausea in early pregnancy, based on a woman’s preferences and available options. Women should be informed that symptoms of nausea and vomiting usually resolve in the second half of pregnancy.\",\"text_color\":\"#4855B3\",\"toaster_type\":\"info\",\"relevance\":{\"step4:phys_symptoms\":{\"ex-checkbox\":[{\"or\":[\"nausea_vomiting\"]}]}}},{\"key\":\"toaster15\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Diet and lifestyle changes to prevent and relieve heartburn counseling\",\"toaster_info_text\":\"Advice on diet and lifestyle is recommended to prevent and relieve heartburn in pregnancy. Antacid preparations can be offered to women with troublesome symptoms that are not relieved by lifestyle modification.\",\"text_color\":\"#4855B3\",\"toaster_type\":\"info\",\"relevance\":{\"step4:phys_symptoms\":{\"ex-checkbox\":[{\"or\":[\"heartburn\"]}]}}},{\"key\":\"toaster16\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Non-pharmacological treatment for the relief of leg cramps counseling\",\"toaster_info_text\":\"Non-pharmacological therapies, including muscle stretching, relaxation, heat therapy, dorsiflexion of the foot, and massage can be used for the relief of leg cramps in pregnancy.\",\"text_color\":\"#4855B3\",\"toaster_type\":\"info\",\"relevance\":{\"step4:phys_symptoms\":{\"ex-checkbox\":[{\"or\":[\"leg_cramps\"]}]}}},{\"key\":\"toaster17\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Dietary modifications to relieve constipation counseling\",\"toaster_info_text\":\"Dietary modifications to relieve constipation include promoting adequate intake of water and dietary fibre (found in vegetables, nuts, fruits and whole grains).\",\"text_color\":\"#4855B3\",\"toaster_type\":\"info\",\"relevance\":{\"step4:phys_symptoms\":{\"ex-checkbox\":[{\"or\":[\"constipation\"]}]}}},{\"key\":\"toaster18\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Regular exercise, physiotherapy, support belts and acupuncture to relieve low back and pelvic pain counseling\",\"toaster_info_text\":\"Regular exercise throughout pregnancy is recommended to prevent low back and pelvic pain. There are a number of different treatment options that can be used, such as physiotherapy, support belts and acupuncture, based on a woman’s preferences and available options.\",\"text_color\":\"#4855B3\",\"toaster_type\":\"info\",\"relevance\":{\"step4:other_sym_lbpp\":{\"ex-checkbox\":[{\"or\":[\"none\"]}]}}},{\"key\":\"toaster19\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Please investigate any possible complications or onset of labour, related to low back and pelvic pain\",\"text_color\":\"#D56900\",\"toaster_type\":\"warning\",\"relevance\":{\"step4:other_sym_lbpp\":{\"ex-checkbox\":[{\"or\":[\"contractions\",\"pelvic_pains\"]}]}}},{\"key\":\"toaster20\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Urine test required\",\"toaster_info_text\":\"Woman has dysuria. Please investigate urinary tract infection and treat if positive.\",\"text_color\":\"#D56900\",\"toaster_type\":\"warning\",\"relevance\":{\"step4:other_sym_lbpp\":{\"ex-checkbox\":[{\"or\":[\"dysuria\"]}]}}},{\"key\":\"toaster21\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Non-pharmacological options for varicose veins and oedema counseling\",\"toaster_info_text\":\"Non-pharmacological options, such as compression stockings, leg elevation and water immersion, can be used for the management of varicose veins and oedema in pregnancy, based on a woman’s preferences and available options.\",\"text_color\":\"#4855B3\",\"toaster_type\":\"info\",\"relevance\":{\"step4:other_sym_vvo\":{\"ex-checkbox\":[{\"or\":[\"none\"]}]}}},{\"key\":\"toaster22\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"toaster_notes\",\"text\":\"Please investigate any possible complications, including thrombosis, related to varicose veins and oedema\",\"text_color\":\"#D56900\",\"toaster_type\":\"warning\",\"relevance\":{\"step4:other_sym_vvo\":{\"ex-checkbox\":[{\"or\":[\"leg_pain\",\"leg_redness\"]}]}}},{\"key\":\"other_symptoms\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"check_box\",\"label\":\"Any other symptoms?\",\"label_text_style\":\"bold\",\"text_color\":\"#000000\",\"exclusive\":[\"none\"],\"options\":[{\"key\":\"none\",\"text\":\"None\",\"value\":false,\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"abnormal_vaginal_discharge\",\"text\":\"Abnormal vaginal discharge\",\"value\":false,\"openmrs_entity\":\"Abnormal vaginal discharge\",\"openmrs_entity_id\":\"123395\"},{\"key\":\"breathless\",\"text\":\"Breathless during routine activities\",\"value\":false,\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"cough\",\"text\":\"Cough or breathing difficulty\",\"value\":false,\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"fever\",\"text\":\"Fever\",\"value\":false,\"openmrs_entity\":\"Fever\",\"openmrs_entity_id\":\"140238\"},{\"key\":\"easily_tired\",\"text\":\"Gets tired easily\",\"value\":false,\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"headache\",\"text\":\"Headache\",\"value\":false,\"openmrs_entity\":\"Headache\",\"openmrs_entity_id\":\"139084\"},{\"key\":\"vaginal_bleeding\",\"text\":\"Vaginal bleeding\",\"value\":false,\"openmrs_entity\":\"Vaginal bleeding\",\"openmrs_entity_id\":\"147232\"},{\"key\":\"visual_disturbance\",\"text\":\"Visual disturbance\",\"value\":false,\"openmrs_entity\":\"Visual disturbance\",\"openmrs_entity_id\":\"123074\"},{\"key\":\"other\",\"text\":\"Other (specify)\",\"value\":false,\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"}],\"v_required\":{\"value\":true,\"err\":\"Please specify any other symptoms or select none\"}},{\"key\":\"other_symptoms_other\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"edit_text\",\"hint\":\"Specify\",\"v_regex\":{\"value\":\"[A-Za-z\\\\s.-]*\",\"err\":\"Please enter valid content\"},\"relevance\":{\"step4:other_symptoms\":{\"ex-checkbox\":[{\"or\":[\"other\"]}]}}},{\"key\":\"mat_percept_fetal_move\",\"openmrs_entity_parent\":\"\",\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\",\"type\":\"native_radio\",\"label\":\"Has the woman felt the baby move?\",\"label_text_style\":\"bold\",\"text_color\":\"#000000\",\"options\":[{\"key\":\"normal_fetal_move\",\"text\":\"Normal fetal movement\",\"value\":false,\"openmrs_entity\":\"\",\"openmrs_entity_id\":\"\"},{\"key\":\"reduced_fetal_move\",\"text\":\"Reduced or poor fetal movement\",\"value\":false,\"openmrs_entity\":\"Decreased fetal movements\",\"openmrs_entity_id\":\"113377\"},{\"key\":\"no_fetal_move\",\"text\":\"No fetal movement\",\"value\":false,\"openmrs_entity\":\"No fetal movements\",\"openmrs_entity_id\":\"1452\"}],\"v_required\":{\"value\":true,\"err\":\"Field has the woman felt the baby move is required\"}}]}}");
        partialContact.setType("anc_symptoms_follow_up");

        partialContactsList.add(partialContact);

        Mockito.doReturn(partialContactsList).when(partialContactRepository).getPartialContacts(DUMMY_BASE_ENTITY_ID, DUMMY_CONTACT_NO);

        ReflectionHelpers.callInstanceMethod(spyActivity, "process");
        List<YamlConfig> list = Whitebox.getInternalState(spyActivity, "yamlConfigList");

        Assert.assertNotNull(list);
        Assert.assertEquals(39, list.size());
    }

    @Test
    public void testSetProfileImageInvokesImageRenderHelperMethodsWithCorrectParameters() {

        ContactSummaryFinishActivity spyActivity = Mockito.spy(activity);

        Whitebox.setInternalState(spyActivity, "imageRenderHelper", imageRenderHelper);

        spyActivity.setProfileImage(DUMMY_BASE_ENTITY_ID);

        ImageView imageView = Whitebox.getInternalState(spyActivity, "imageView");

        Mockito.verify(imageRenderHelper).refreshProfileImage(DUMMY_BASE_ENTITY_ID, imageView, R.drawable.ic_woman_with_baby);

    }

    @Test
    public void testGetIntentStringInvokesGetStringExtraMethodOfIntentWithCorrectParameters() {

        ContactSummaryFinishActivity spyActivity = Mockito.spy(activity);

        Mockito.doReturn(intent).when(spyActivity).getIntent();

        spyActivity.getIntentString(TEST_STRING);

        Mockito.verify(intent).getStringExtra(TEST_STRING);

    }

    @After
    public void tearDown() {
        destroyController();
    }
}

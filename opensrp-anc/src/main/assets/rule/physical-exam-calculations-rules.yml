---
name: step1_first_weight
description: This is a calculated field for purposes of making weight calculations simpler. It fixes which weight to use as pre-gestational weight.
priority: 1
condition: "true"
actions:
  - "calculation = (step1_pregest_weight_unknown.contains('pregest_weight_unknown') ? step1_current_weight : step1_pregest_weight)"
---
name: step1_bmi
description: This is a calculated field for purposes of making weight calculations simpler. It fixes which weight to use as pre-gestational weight.
priority: 1
condition: "(step1_first_weight > 0)"
actions:
 - "calculation = (step1_first_weight/((step1_height/100)*(step1_height/100)))"
---
name: step1_weight_cat
description: weight cat tingz
priority: 1
condition: "true"
actions:
 - "calculation = (step1_bmi < 18.5 ? 'Underweight' : ((step1_bmi >= 18.5 && step1_bmi < 25) ?  'Normal Weight' : ((step1_bmi >= 25 && step1_bmi < 30) ? 'Overweight' : 'Obese')))"
---
name: step1_exp_weight_gain
description: weight gain tingz
priority: 1
condition: "true"
actions:
 - "calculation = (step1_weight_cat == 'Underweight' ? '12.5 - 18': (step1_weight_cat == 'Normal Weight' ? '11.5 - 16' : (step1_weight_cat == 'Overweight' ? '7 - 11.5' : '5 - 9')))"
---
name: step1_gdm_risk
description: gdm risk
priority: 1
condition: "step1_bmi >= 30 || (global_prev_preg_comps.contains('gestational_diabetes') || global_prev_preg_comps.contains('macrosomia')) || (global_urine_glucose != 'one_plus' || global_urine_glucose != 'none')"
actions:
 - "calculation = 1"
---
name: step1_toaster1
description: Note displaying the woman's BMI, her weight category, and how much weight she should put on during pregnancy for her weight category.
priority: 1
condition: "true"
actions:
 - "calculation = ['bmi' : step1_bmi, 'weight_cat' : step1_weight_cat, 'exp_weight_gain' : step1_exp_weight_gain]"
---
name: step1_weight_gain
description: Average weight gain per week since last contact (in kg).
priority: 1
condition: "global_contact_no > 1 "
actions:
 - "calculation = (step1_current_weight - step1_first_weight)"
---
name: step1_tot_weight_gain
description: Total weight gain in pregnancy so far (in kg).
priority: 1
condition: "true"
actions:
 - "calculation = (step1_current_weight - step1_first_weight)"
---
name: step1_toaster2
description: Note displaying the woman's BMI, her weight category, and how much weight she should put on during pregnancy for her weight category.
priority: 1
condition: "true"
actions:
 - "calculation = ['weight_gain' : step1_weight_gain,'tot_weight_gain' : step1_tot_weight_gain]"
---
name: step2_hypertension
description: Hypertension Diognosis
priority: 1
condition: "step2_urine_protein == 'none' ||  step2_urine_protein == 'one_plus'"
actions:
 - "calculation = 1"
---
name: step2_severe_hypertension
description: Severe hypertension
priority: 1
condition: "step2_hypertension == 1 && (step2_bp_systolic_repeat >= 160  || step2_bp_diastolic_repeat >= 110)"
actions:
 - "calculation = 1"
---
name: step2_severe_preeclampsia
description: Severe preeclampsia
priority: 1
condition: "((step2_bp_systolic_repeat >= 160 || step2_bp_diastolic_repeat >= 110) && (step2_urine_protein == 'three_plus' || step2_urine_protein == 'four_plus'))  || ((step2_urine_protein == 'two_plus' || step2_urine_protein == 'three_plus' || step2_urine_protein == 'four_plus') && !step2_symp_sev_preeclampsia.contains('none'))"
actions:
 - "calculation = 1"
---
name: step2_preeclampsia
description: Severe preeclampsia
priority: 1
condition: "((step2_urine_protein == 'two_plus' || step2_urine_protein == 'three_plus' || step2_urine_protein == 'four_plus')  && step2_symp_sev_preeclampsia.contains('none'))"
actions:
 - "calculation = 1"
